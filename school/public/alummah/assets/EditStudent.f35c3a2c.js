var R=(S,V,i)=>new Promise((k,w)=>{var E=p=>{try{f(i.next(p))}catch(y){w(y)}},N=p=>{try{f(i.throw(p))}catch(y){w(y)}},f=p=>p.done?k(p.value):Promise.resolve(p.value).then(E,N);f((i=i.apply(S,V)).next())});import{_ as Z,k as h,r as I,a as L,c as U,p as ee,e as d,l as e,q as A,t as x,u as s,v as m,x as c,y as _,n as C,z,F as te,A as se,C as oe,D as ne,E as ae,G as le,o as r}from"./vendor.378dc7b4.js";const o=S=>(ne("data-v-322fec34"),S=S(),ae(),S),de={class:"min-h-screen bg-gray-50 p-4"},re={class:"mb-6"},ie={class:"text-2xl font-bold text-gray-800"},ue={class:"text-sm text-gray-500 font-normal ml-2"},ce={key:0,class:"text-gray-600"},me={key:0,class:"text-green-600 font-medium"},_e={key:1,class:"text-orange-600 font-medium"},ge={key:0,class:"flex justify-center items-center py-8"},pe=o(()=>e("div",{class:"spinner"},null,-1)),be=o(()=>e("span",{class:"ml-2 text-gray-600"},"Loading settings...",-1)),he=[pe,be],fe={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},ye=o(()=>e("p",{class:"text-red-800"},"Failed to load settings. Using default permissions.",-1)),ve={key:2,class:"bg-white rounded-lg shadow-sm p-6"},xe=["onSubmit"],ke={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},we={class:"md:col-span-2 lg:col-span-3"},Ne=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Student ID",-1)),Se=["value"],Ee=o(()=>e("p",{class:"text-xs text-gray-500 mt-1"},"Student ID cannot be changed",-1)),Ge={key:0,class:"md:col-span-2 lg:col-span-3"},Me=o(()=>e("h3",{class:"text-lg font-medium text-gray-800 mb-4 border-b pb-2"},"Personal Details",-1)),Ve=[Me],Ue={key:1},Ce=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"First Name",-1)),De={key:2},Fe=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Middle Name",-1)),Re={key:3},Pe=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Last Name",-1)),je={key:4},Be=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Student Date of Birth",-1)),Ie={key:5},Le=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"GR Number",-1)),Ae={key:6,class:"md:col-span-2 lg:col-span-3 mt-4"},ze=o(()=>e("h3",{class:"text-lg font-medium text-gray-800 mb-4 border-b pb-2"},"Contact Information",-1)),Oe=[ze],He={key:7},$e=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email Address",-1)),qe={key:8},Te=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Phone Number",-1)),Ye=o(()=>e("div",{class:"md:col-span-2 lg:col-span-3 mt-8"},[e("h3",{class:"text-lg font-medium text-gray-800 mb-4 border-b pb-2"},[A(" Guardian Management "),e("span",{class:"text-sm text-blue-600 font-normal ml-2"},"(Manage multiple guardians)")])],-1)),Je={class:"md:col-span-2 lg:col-span-3"},We=o(()=>e("h4",{class:"text-lg font-semibold text-gray-800 mb-4"},"Add New Guardian",-1)),Ke={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Qe=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Guardian Name",-1)),Xe=["disabled"],Ze=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Phone Number",-1)),et=["disabled"],tt=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Relation",-1)),st=["disabled"],ot=o(()=>e("option",{value:"Mother"},"Mother",-1)),nt=o(()=>e("option",{value:"Father"},"Father",-1)),at=o(()=>e("option",{value:"Others"},"Others",-1)),lt=[ot,nt,at],dt={class:"mt-4 flex items-center justify-between"},rt={key:0,class:"text-red-600 text-sm font-medium"},it={key:1,class:"text-gray-600 text-sm"},ut=["disabled"],ct={key:0},mt={key:1},_t={class:"md:col-span-2 lg:col-span-3"},gt={class:"bg-white rounded-lg border border-gray-200 p-6"},pt=o(()=>e("h4",{class:"text-lg font-semibold text-gray-800 mb-4"},"Existing Guardians",-1)),bt={key:0,class:"flex justify-center py-4"},ht=o(()=>e("div",{class:"spinner-small"},null,-1)),ft=o(()=>e("span",{class:"ml-2 text-gray-600"},"Loading guardians...",-1)),yt=[ht,ft],vt={key:1,class:"text-center py-8 text-gray-500"},xt=o(()=>e("svg",{class:"w-12 h-12 mx-auto text-gray-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1)),kt=o(()=>e("p",null,"No guardians added yet.",-1)),wt=[xt,kt],Nt={key:2,class:"space-y-4"},St={class:"flex items-start justify-between"},Et={class:"flex items-start space-x-3 flex-1"},Gt=o(()=>e("div",{class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0"},[e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),Mt={class:"flex-1 min-w-0"},Vt={class:"flex items-center space-x-2 mb-1"},Ut={class:"font-medium text-gray-800 text-lg"},Ct={class:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full"},Dt={key:0,class:"space-y-2 text-sm text-gray-600"},Ft={class:"flex items-center space-x-4"},Rt={class:"flex items-center space-x-1"},Pt=o(()=>e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),jt=o(()=>e("span",{class:"text-gray-400"},"\u2022",-1)),Bt={class:"flex items-center space-x-1"},It=o(()=>e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})],-1)),Lt={key:0,class:"flex items-center space-x-2 text-xs"},At={key:0},zt={key:1,class:"text-gray-400"},Ot={key:2},Ht={key:1,class:"space-y-4 mt-4 p-4 bg-gray-50 rounded-lg"},$t={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},qt=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Guardian Name",-1)),Tt=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Phone Number",-1)),Yt=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Relation",-1)),Jt=o(()=>e("option",{value:"Mother"},"Mother",-1)),Wt=o(()=>e("option",{value:"Father"},"Father",-1)),Kt=o(()=>e("option",{value:"Others"},"Others",-1)),Qt=[Jt,Wt,Kt],Xt=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date of Birth",-1)),Zt=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email",-1)),es=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Occupation",-1)),ts=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Designation",-1)),ss={class:"md:col-span-2"},os=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Work Address",-1)),ns=o(()=>e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Education",-1)),as={class:"flex space-x-3 pt-4"},ls=["onClick","disabled"],ds={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},rs=o(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)),is=[rs],us=["onClick"],cs=o(()=>e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),ms=[cs],_s={class:"mt-8 pt-6 border-t flex justify-between items-center"},gs={class:"text-sm text-gray-600"},ps={key:0,class:"text-green-600"},bs={key:1,class:"text-orange-600"},hs={class:"flex space-x-3"},fs=["disabled"],ys={key:0},vs={key:1},xs={setup(S){const V=le(),i=h({}),k=h(""),w=h(!0),E=h(!1),N=h(!1),f=h([]),p=h(!1),y=h(null),G=h(!1),M=h(!1),g=I({guardian_name:"",phone_number:"",relation:"Mother"}),a=I({guardian_name:"",phone_number:"",relation:"Mother",guardian_date_of_birth:"",guardian_email:"",occupation:"",designation:"",work_address:"",education:""}),D=h({allow_instructors_modify_student:0,session_expiry:"24:00"}),b=L(()=>D.value.allow_instructors_modify_student===1),v=L(()=>f.value.length>=3),O=U({url:"school.al_ummah.api3.fetch_admin_settings",auto:!1,onSuccess(t){D.value=t,w.value=!1,E.value=!1},onError(t){console.error("Error fetching admin settings:",t),w.value=!1,E.value=!0,D.value={allow_instructors_modify_student:0,session_expiry:"24:00"}}}),H=U({url:"school.al_ummah.api2.update_student_details",auto:!1,onSuccess(t){N.value=!1,console.log("Student updated successfully:",t),alert("Student information updated successfully!")},onError(t){console.error("Error updating student:",t),N.value=!1,alert("Failed to update student information. Please try again.")}}),$=U({url:"school.al_ummah.api2.add_guardian_to_student",auto:!1,onSuccess(){M.value=!1,F(),Y()},onError(t){console.error("Error adding guardian:",t),M.value=!1,alert("Failed to add guardian. Please try again.")}}),q=U({url:"school.al_ummah.api2.get_student_guardian_names",auto:!1,onSuccess(t){f.value=t||[],p.value=!1},onError(t){console.error("Error fetching guardians:",t),p.value=!1,f.value=[]}}),T=U({url:"school.al_ummah.api2.update_guardian_details",auto:!1,onSuccess(){G.value=!1,y.value=null,j(),F(),alert("Guardian details updated successfully!")},onError(t){console.error("Error updating guardian details:",t),G.value=!1,alert("Failed to update guardian details. Please try again.")}}),P=t=>/^[0-9]{10}$/.test(t),Y=()=>{g.guardian_name="",g.phone_number="",g.relation="Mother"},j=()=>{Object.keys(a).forEach(t=>{a[t]=""}),a.relation="Mother"},F=()=>{p.value=!0,q.fetch({student:k.value})},J=()=>R(this,null,function*(){if(!P(g.phone_number)){alert("Please enter a valid 10-digit phone number.");return}if(!g.guardian_name.trim()){alert("Please enter guardian name.");return}M.value=!0;const t={student_id:k.value,student_name:i.value.student_name,guardian_name:g.guardian_name,relation:g.relation,phone_number:g.phone_number};$.fetch(t)}),W=t=>{y.value=t.guardian,a.guardian_name=t.guardian_name||"",a.phone_number=t.mobile_number||"",a.relation=t.relation||"Mother",a.guardian_date_of_birth=t.guardian_date_of_birth||"",a.guardian_email=t.guardian_email||"",a.occupation=t.occupation||"",a.designation=t.designation||"",a.work_address=t.work_address||"",a.education=t.education||""},K=()=>{y.value=null,j()},Q=t=>{if(!P(a.phone_number)){alert("Please enter a valid 10-digit phone number.");return}if(!a.guardian_name.trim()){alert("Please enter guardian name.");return}G.value=!0;const n={guardian_id:t,guardian_name:a.guardian_name,phone_number:a.phone_number,relation:a.relation,guardian_date_of_birth:a.guardian_date_of_birth,guardian_email:a.guardian_email,occupation:a.occupation,designation:a.designation,work_address:a.work_address,education:a.education};T.fetch(n)},B=()=>{w.value=!0,E.value=!1,O.fetch()},X=()=>R(this,null,function*(){N.value=!0;try{const t={student_id:k.value};b.value&&(t.first_name=i.value["First Name"]||"",t.middle_name=i.value["Middle Name"]||"",t.last_name=i.value["Last Name"]||"",t.student_date_of_birth=i.value["Student Date of Birth"]||"",t.gr_number=i.value["GR Number"]||"",t.email_address=i.value["Email Address"]||"",t.phone_number=i.value["Phone Number"]||""),console.log("Sending update data:",t),yield H.fetch(t)}catch(t){console.error("Error in update student:",t),N.value=!1}});return ee(()=>{if(k.value=V.query.studentId,V.query.studentData)try{i.value=JSON.parse(decodeURIComponent(V.query.studentData)),console.log("Student ID:",k.value),console.log("Complete student data:",i.value)}catch(t){console.error("Error parsing student data:",t)}B(),F()}),(t,n)=>(r(),d("div",de,[e("div",re,[e("h1",ie,[A(" Edit Student: "+x(i.value.student_name)+" ",1),e("span",ue,"(ID: "+x(k.value)+")",1)]),w.value?m("",!0):(r(),d("p",ce,[s(b)?(r(),d("span",me," \u2713 Full editing access enabled ")):(r(),d("span",_e," \u26A0 Limited editing access (Guardian fields only) "))]))]),w.value?(r(),d("div",ge,he)):E.value?(r(),d("div",fe,[ye,e("button",{onClick:B,class:"mt-2 px-3 py-1 bg-red-600 text-white rounded text-sm"}," Retry ")])):(r(),d("div",ve,[e("form",{onSubmit:oe(X,["prevent"])},[e("div",ke,[e("div",we,[Ne,e("input",{value:k.value,type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-500"},null,8,Se),Ee]),s(b)?(r(),d("div",Ge,Ve)):m("",!0),s(b)?(r(),d("div",Ue,[Ce,c(e("input",{"onUpdate:modelValue":n[0]||(n[0]=l=>i.value["First Name"]=l),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,i.value["First Name"]]])])):m("",!0),s(b)?(r(),d("div",De,[Fe,c(e("input",{"onUpdate:modelValue":n[1]||(n[1]=l=>i.value["Middle Name"]=l),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,i.value["Middle Name"]]])])):m("",!0),s(b)?(r(),d("div",Re,[Pe,c(e("input",{"onUpdate:modelValue":n[2]||(n[2]=l=>i.value["Last Name"]=l),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,i.value["Last Name"]]])])):m("",!0),s(b)?(r(),d("div",je,[Be,c(e("input",{"onUpdate:modelValue":n[3]||(n[3]=l=>i.value["Student Date of Birth"]=l),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,i.value["Student Date of Birth"]]])])):m("",!0),s(b)?(r(),d("div",Ie,[Le,c(e("input",{"onUpdate:modelValue":n[4]||(n[4]=l=>i.value["GR Number"]=l),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,i.value["GR Number"]]])])):m("",!0),s(b)?(r(),d("div",Ae,Oe)):m("",!0),s(b)?(r(),d("div",He,[$e,c(e("input",{"onUpdate:modelValue":n[5]||(n[5]=l=>i.value["Email Address"]=l),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,i.value["Email Address"]]])])):m("",!0),s(b)?(r(),d("div",qe,[Te,c(e("input",{"onUpdate:modelValue":n[6]||(n[6]=l=>i.value["Phone Number"]=l),type:"tel",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,i.value["Phone Number"]]])])):m("",!0)]),Ye,e("div",Je,[e("div",{class:C(["bg-gray-50 rounded-lg p-6 border-2 border-dashed mb-6 transition-all",s(v)?"border-gray-300 opacity-50":"border-blue-200 hover:border-blue-300"])},[We,e("div",Ke,[e("div",null,[Qe,c(e("input",{"onUpdate:modelValue":n[7]||(n[7]=l=>s(g).guardian_name=l),type:"text",placeholder:"Enter guardian name",disabled:s(v),class:C(["w-full px-3 py-2 border rounded-md",s(v)?"border-gray-200 bg-gray-100 text-gray-500":"border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,Xe),[[_,s(g).guardian_name]])]),e("div",null,[Ze,c(e("input",{"onUpdate:modelValue":n[8]||(n[8]=l=>s(g).phone_number=l),type:"tel",placeholder:"10-digit number",disabled:s(v),class:C(["w-full px-3 py-2 border rounded-md",s(v)?"border-gray-200 bg-gray-100 text-gray-500":"border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,et),[[_,s(g).phone_number]])]),e("div",null,[tt,c(e("select",{"onUpdate:modelValue":n[9]||(n[9]=l=>s(g).relation=l),disabled:s(v),class:C(["w-full px-3 py-2 border rounded-md",s(v)?"border-gray-200 bg-gray-100 text-gray-500":"border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"])},lt,10,st),[[z,s(g).relation]])])]),e("div",dt,[e("div",null,[s(v)?(r(),d("p",rt," \u274C Maximum of 3 guardians reached ")):(r(),d("p",it," Guardians added: "+x(f.value.length)+"/3 ",1))]),e("button",{type:"button",onClick:J,disabled:s(v)||M.value,class:C(["px-4 py-2 rounded-md flex items-center space-x-2 transition-colors",s(v)||M.value?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"])},[M.value?(r(),d("span",ct,"Adding...")):(r(),d("span",mt,"Add Guardian"))],10,ut)])],2)]),e("div",_t,[e("div",gt,[pt,p.value?(r(),d("div",bt,yt)):f.value.length===0?(r(),d("div",vt,wt)):(r(),d("div",Nt,[(r(!0),d(te,null,se(f.value,l=>(r(),d("div",{key:l.guardian||l.guardian_name,class:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors"},[e("div",St,[e("div",Et,[Gt,e("div",Mt,[e("div",Vt,[e("h5",Ut,x(l.guardian_name),1),e("span",Ct,x(l.relation),1)]),y.value!==l.guardian?(r(),d("div",Dt,[e("div",Ft,[e("span",Rt,[Pt,e("span",null,x(l.mobile_number),1)]),jt,e("span",Bt,[It,e("span",null,x(l.guardian_email||"No email"),1)])]),l.occupation||l.designation?(r(),d("div",Lt,[l.occupation?(r(),d("span",At,"\u{1F4BC} "+x(l.occupation),1)):m("",!0),l.designation?(r(),d("span",zt,"\u2022")):m("",!0),l.designation?(r(),d("span",Ot,"\u{1F3AF} "+x(l.designation),1)):m("",!0)])):m("",!0)])):m("",!0),y.value===l.guardian?(r(),d("div",Ht,[e("div",$t,[e("div",null,[qt,c(e("input",{"onUpdate:modelValue":n[10]||(n[10]=u=>s(a).guardian_name=u),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,s(a).guardian_name]])]),e("div",null,[Tt,c(e("input",{"onUpdate:modelValue":n[11]||(n[11]=u=>s(a).phone_number=u),type:"tel",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,s(a).phone_number]])]),e("div",null,[Yt,c(e("select",{"onUpdate:modelValue":n[12]||(n[12]=u=>s(a).relation=u),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},Qt,512),[[z,s(a).relation]])]),e("div",null,[Xt,c(e("input",{"onUpdate:modelValue":n[13]||(n[13]=u=>s(a).guardian_date_of_birth=u),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,s(a).guardian_date_of_birth]])]),e("div",null,[Zt,c(e("input",{"onUpdate:modelValue":n[14]||(n[14]=u=>s(a).guardian_email=u),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,s(a).guardian_email]])]),e("div",null,[es,c(e("input",{"onUpdate:modelValue":n[15]||(n[15]=u=>s(a).occupation=u),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,s(a).occupation]])]),e("div",null,[ts,c(e("input",{"onUpdate:modelValue":n[16]||(n[16]=u=>s(a).designation=u),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,s(a).designation]])]),e("div",ss,[os,c(e("textarea",{"onUpdate:modelValue":n[17]||(n[17]=u=>s(a).work_address=u),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,s(a).work_address]])]),e("div",null,[ns,c(e("input",{"onUpdate:modelValue":n[18]||(n[18]=u=>s(a).education=u),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,s(a).education]])])]),e("div",as,[e("button",{onClick:u=>Q(l.guardian),disabled:G.value,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-green-300 flex items-center space-x-2"},[G.value?(r(),d("svg",ds,is)):m("",!0),e("span",null,x(G.value?"Updating...":"Update Guardian"),1)],8,ls),e("button",{onClick:K,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"}," Cancel ")])])):m("",!0)])]),y.value!==l.guardian?(r(),d("button",{key:0,onClick:u=>W(l),class:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit guardian details"},ms,8,us)):m("",!0)])]))),128))]))])]),e("div",_s,[e("div",gs,[s(b)?(r(),d("span",ps," \u2713 You have full editing permissions ")):(r(),d("span",bs," \u26A0 You can only edit guardian information "))]),e("div",hs,[e("button",{type:"button",class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",onClick:n[19]||(n[19]=l=>t.$router.back())}," Cancel "),e("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed",disabled:N.value},[N.value?(r(),d("span",ys,"Updating...")):(r(),d("span",vs,"Update Student"))],8,fs)])])],40,xe)]))]))}};var Ns=Z(xs,[["__scopeId","data-v-322fec34"]]);export{Ns as default};
