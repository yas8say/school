var Me=Object.defineProperty;var pe=Object.getOwnPropertySymbols;var Ae=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable;var ve=(_,c,u)=>c in _?Me(_,c,{enumerable:!0,configurable:!0,writable:!0,value:u}):_[c]=u,fe=(_,c)=>{for(var u in c||(c={}))Ae.call(c,u)&&ve(_,u,c[u]);if(pe)for(var u of pe(c))Ne.call(c,u)&&ve(_,u,c[u]);return _};var V=(_,c,u)=>new Promise((g,d)=>{var m=$=>{try{y(u.next($))}catch(f){d(f)}},A=$=>{try{y(u.throw($))}catch(f){d(f)}},y=$=>$.done?g($.value):Promise.resolve($.value).then(m,A);y((u=u.apply(_,c)).next())});import{d as o,e as a,f as e,_ as oe,N as ce,r as S,u as Y,E as O,o as te,t as r,g as N,C as l,F as X,z as K,n as B,G as se,i as k,p as ne,h as ae,w as le,J as ee,x as de,y as be,H as ye,D as ue,b as Ee,A as De,P as Le}from"./vendor.f2b32264.js";import{session as we}from"./session.4cea33c7.js";import{r as me,a as he,b as re,c as Ie,d as Be,e as Te,f as _e,g as Pe,h as Ge,i as ze,j as Ve}from"./XMarkIcon.fa029d61.js";import"./index.e11613a4.js";function ke(_,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}function Re(_,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})])}function $e(_,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function ge(_,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function Fe(_,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function xe(_,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Oe(_,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}function He(_,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})])}function Ce(_,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])}function ie(_,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})])}function Se(_,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function je(_,c){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const H=_=>(ne("data-v-781e52fa"),_=_(),ae(),_),Ue={class:"min-h-screen bg-gray-50 p-4"},Je={class:"mb-6"},We=H(()=>e("h1",{class:"text-2xl font-bold text-gray-800"},"Take Attendance",-1)),Ze=H(()=>e("p",{class:"text-gray-600"},"Select students who are present today",-1)),qe={key:0,class:"text-sm text-gray-500 mt-1"},Ye={class:"text-sm text-gray-500"},Qe={key:0,class:"flex justify-center items-center py-8"},Xe=H(()=>e("div",{class:"spinner"},null,-1)),Ke=H(()=>e("span",{class:"ml-2 text-gray-600"},"Loading students...",-1)),et=[Xe,Ke],tt={key:1,class:"space-y-3"},st={class:"flex justify-between items-center mb-4"},ot={class:"text-sm text-gray-600"},nt=["disabled"],at={class:"flex items-center space-x-4"},rt={class:"flex-shrink-0"},lt=["src"],it={key:1,class:"text-white text-sm font-medium opacity-70"},ct={class:"flex-1 min-w-0"},dt={class:"font-medium text-gray-500 truncate"},ut={class:"flex items-center space-x-4 text-sm text-gray-500"},mt=H(()=>e("span",{class:"text-gray-400"},"\u2022",-1)),ht={class:"truncate"},_t={class:"flex items-center space-x-2 mt-1"},gt={class:"flex-shrink-0"},xt=["onClick"],pt={class:"flex items-center space-x-4"},vt={class:"flex-shrink-0"},ft={class:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold text-sm relative overflow-hidden"},bt=["src"],yt={key:1,class:"text-white text-sm font-medium"},wt={class:"flex-1 min-w-0"},kt={class:"font-medium text-gray-800 truncate"},$t={class:"flex items-center space-x-4 text-sm text-gray-600"},Ct=H(()=>e("span",{class:"text-gray-400"},"\u2022",-1)),St={class:"truncate"},jt={class:"flex-shrink-0"},Mt={key:2,class:"text-center py-8"},At=H(()=>e("p",{class:"text-gray-600"},"No students available for this class",-1)),Nt={key:3,class:"flex space-x-4 mt-6"},Et=H(()=>e("span",null,"Cancel",-1)),Dt=["disabled"],Lt={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},It={class:"bg-white rounded-lg p-6 max-w-sm w-full mx-4"},Bt=H(()=>e("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Confirm Attendance",-1)),Tt={class:"text-gray-600 mb-2"},Pt={class:"text-gray-600 mb-2"},Gt={class:"text-gray-600 mb-4"},zt=H(()=>e("div",{class:"text-sm text-gray-500 mb-4"},' Note: Students already marked as "Present" or "On Leave" will not be included in this attendance submission. ',-1)),Vt={class:"flex space-x-3"},Rt={props:{selectedGroup:String},emits:["back-to-dashboard"],setup(_){const c=_,u=ce(),g=S([]),d=S([]),m=S(!0),A=S(!1),y=S(!1),$=Y(()=>new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),f=Y(()=>g.value.filter(n=>n.present===1||n.on_leave===1)),E=Y(()=>g.value.filter(n=>n.present===0&&n.on_leave===0)),D=Y(()=>f.value.length),T=Y(()=>E.value.length===0),G=n=>n?n.startsWith("http")||n.startsWith("//")?n:n.startsWith("/")?window.location.origin+n:`${window.location.origin}/${n.replace(/^\//,"")}`:null,w=n=>n?n.split(" ").map(v=>v.charAt(0)).join("").toUpperCase().substring(0,2):"?",M=n=>{n.target.style.display="none"},P=O({url:"school.al_ummah.api2.get_student_attendance_records",onSuccess(n){return console.log("Attendance data loaded:",n),n},onError(n){console.error("Error fetching attendance:",n),alert("Failed to load student data. Please check your connection and try again.")}}),z=O({url:"school.al_ummah.api2.mark_attendance",onSuccess(n){var v;if(console.log("Attendance marked successfully:",n),y.value=!1,n.status==="success"||((v=n.message)==null?void 0:v.includes("successfully")))alert("Success! "+(n.message||"Attendance has been marked successfully.")),u.push({name:"Teacherhome"});else if(n._server_messages){try{const h=JSON.parse(n._server_messages);if(h.length>0){const t=JSON.parse(h[0]);if(t.message&&t.message.includes("successfully")){alert("Success! "+t.message),u.push({name:"Teacherhome"});return}}}catch(h){console.error("Error parsing server messages:",h)}alert("Success! Attendance has been marked successfully."),u.push({name:"Teacherhome"})}else alert("Error: "+(n.message||"There was an issue marking attendance."))},onError(n){console.error("Error marking attendance:",n),y.value=!1,n.exc_type==="PermissionError"?alert("Permission denied: You do not have permission to mark attendance. Please contact your administrator."):alert("Failed to submit attendance. Please check your connection and try again.")}}),R=()=>V(this,null,function*(){m.value=!0;try{const n=c.selectedGroup||localStorage.getItem("selected_student_group");if(!n){alert("Please select a class first."),m.value=!1;return}const v={based_on:"Batch",student_group:n},h=yield P.fetch(v);if(!h||h.length===0){alert("No students found for this class."),g.value=[];return}g.value=h,d.value=E.value.map(t=>t.student),console.log("Loaded students:",{total:g.value.length,alreadyMarked:f.value.length,available:E.value.length,presentFlag:g.value.filter(t=>t.present===1).length,onLeaveFlag:g.value.filter(t=>t.on_leave===1).length,studentsWithImages:g.value.filter(t=>t.img_url).length})}catch(n){console.error("Error fetching attendance:",n),alert("Failed to load student data.")}finally{m.value=!1}}),U=()=>{T.value||(d.value.length===E.value.length?d.value=[]:d.value=E.value.map(n=>n.student))},J=n=>{const v=g.value.find(t=>t.student===n);if(v&&(v.present===1||v.on_leave===1))return;const h=d.value.indexOf(n);h>-1?d.value.splice(h,1):d.value.push(n)},W=()=>{if(d.value.length===0){alert("Please select at least one student as present.");return}A.value=!0},Z=()=>V(this,null,function*(){A.value=!1,y.value=!0;const n=E.value.filter(x=>d.value.includes(x.student)).map(x=>({student:x.student,student_name:x.student_name,group_roll_number:x.group_roll_number,disabled:!1,checked:!0})),v=E.value.filter(x=>!d.value.includes(x.student)).map(x=>({student:x.student,student_name:x.student_name,group_roll_number:x.group_roll_number,disabled:!1,checked:!1})),h=new Date().toISOString().split("T")[0],t=c.selectedGroup||localStorage.getItem("selected_student_group");console.log("Submitting attendance for:",{present:n.length,absent:v.length,alreadyMarked:f.value.length,totalStudents:g.value.length});try{yield z.submit({students_present:JSON.stringify(n),students_absent:JSON.stringify(v),student_group:t,date:h})}catch(x){console.error("Error submitting attendance:",x),y.value=!1}}),C=()=>{u.push({name:"Teacherhome"})};return te(()=>{R()}),(n,v)=>(o(),a("div",Ue,[e("div",Je,[We,Ze,_.selectedGroup?(o(),a("p",qe,"Class: "+r(_.selectedGroup),1)):N("",!0),e("p",Ye,"Date: "+r(l($)),1)]),m.value?(o(),a("div",Qe,et)):g.value&&g.value.length>0?(o(),a("div",tt,[e("div",st,[e("p",ot," Total: "+r(g.value.length)+" | To Mark Present: "+r(d.value.length)+" | To Mark Absent: "+r(l(E).length-d.value.length)+" | Already Marked: "+r(l(D)),1),e("button",{onClick:U,class:"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded hover:bg-gray-300",disabled:l(T)},r(d.value.length===l(E).length?"Mark All Absent":"Mark All Present"),9,nt)]),(o(!0),a(X,null,K(l(f),h=>(o(),a("div",{key:h.student,class:"bg-gray-100 rounded-lg shadow-sm p-4 border-2 border-gray-300 cursor-not-allowed"},[e("div",at,[e("div",rt,[e("div",{class:B(["w-12 h-12 rounded-full flex items-center justify-center text-white font-semibold text-sm relative overflow-hidden",h.present===1?"bg-gradient-to-br from-green-400 to-green-500":"bg-gradient-to-br from-yellow-400 to-yellow-500"])},[h.img_url?(o(),a("img",{key:0,src:G(h.img_url),alt:"Student",class:"absolute inset-0 w-full h-full object-cover opacity-70",onError:M,loading:"lazy"},null,40,lt)):(o(),a("span",it,r(w(h.student_name)),1))],2)]),e("div",ct,[e("h3",dt,r(h.student_name),1),e("div",ut,[e("span",null,"Roll No: "+r(h.group_roll_number),1),mt,e("span",ht,r(h.student),1)]),e("div",_t,[h.present===1?(o(),se(l(ge),{key:0,class:"w-4 h-4 text-green-500"})):N("",!0),h.on_leave===1?(o(),se(l(xe),{key:1,class:"w-4 h-4 text-yellow-500"})):N("",!0),e("span",{class:B(["text-xs font-medium",h.present===1?"text-green-600":"text-yellow-600"])},r(h.present===1?"Already Marked Present":"On Leave"),3)])]),e("div",gt,[e("div",{class:B(["w-6 h-6 rounded-full border-2 flex items-center justify-center",h.present===1?"bg-green-500 border-green-500":"bg-yellow-500 border-yellow-500"])},[h.present===1?(o(),se(l(ge),{key:0,class:"w-4 h-4 text-white"})):N("",!0),h.on_leave===1?(o(),se(l(He),{key:1,class:"w-4 h-4 text-white"})):N("",!0)],2)])])]))),128)),(o(!0),a(X,null,K(l(E),h=>(o(),a("div",{key:h.student,class:B(["bg-white rounded-lg shadow-sm p-4 border-2 transition-colors cursor-pointer hover:border-blue-300",d.value.includes(h.student)?"border-green-500 bg-green-50":"border-gray-200"]),onClick:t=>J(h.student)},[e("div",pt,[e("div",vt,[e("div",ft,[h.img_url?(o(),a("img",{key:0,src:G(h.img_url),alt:"Student",class:"absolute inset-0 w-full h-full object-cover",onError:M,loading:"lazy"},null,40,bt)):(o(),a("span",yt,r(w(h.student_name)),1))])]),e("div",wt,[e("h3",kt,r(h.student_name),1),e("div",$t,[e("span",null,"Roll No: "+r(h.group_roll_number),1),Ct,e("span",St,r(h.student),1)])]),e("div",jt,[e("div",{class:B(["w-6 h-6 rounded-full border-2 flex items-center justify-center",d.value.includes(h.student)?"bg-green-500 border-green-500":"border-gray-300"])},[d.value.includes(h.student)?(o(),se(l(ge),{key:0,class:"w-4 h-4 text-white"})):N("",!0)],2)])])],10,xt))),128))])):(o(),a("div",Mt,[At,e("button",{onClick:R,class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"}," Try Again ")])),g.value.length>0?(o(),a("div",Nt,[e("button",{onClick:C,class:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center justify-center space-x-2"},[k(l(me),{class:"w-5 h-5"}),Et]),e("button",{onClick:W,disabled:y.value||l(E).length===0,class:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed"},[k(l(Re),{class:"w-5 h-5"}),e("span",null,r(y.value?"Submitting...":"Submit"),1)],8,Dt)])):N("",!0),A.value?(o(),a("div",Lt,[e("div",It,[Bt,e("p",Tt,"To Mark Present: "+r(d.value.length),1),e("p",Pt,"To Mark Absent: "+r(l(E).length-d.value.length),1),e("p",Gt,"Already Marked: "+r(l(D)),1),zt,e("div",Vt,[e("button",{onClick:v[0]||(v[0]=h=>A.value=!1),class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50"}," Cancel "),e("button",{onClick:Z,class:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"}," Confirm ")])])])):N("",!0)]))}};var Ft=oe(Rt,[["__scopeId","data-v-781e52fa"]]);const L=_=>(ne("data-v-9af280c2"),_=_(),ae(),_),Ot={class:"min-h-screen bg-gray-50 p-3 sm:p-4 md:p-6"},Ht={class:"mb-4 sm:mb-6"},Ut=L(()=>e("h1",{class:"text-xl sm:text-2xl font-bold text-gray-800"},"Attendance Record",-1)),Jt=L(()=>e("p",{class:"text-sm sm:text-base text-gray-600"},"View student attendance history",-1)),Wt={key:0,class:"text-xs sm:text-sm text-gray-500 mt-1"},Zt={key:0,class:"flex justify-center items-center py-6 sm:py-8"},qt=L(()=>e("div",{class:"spinner"},null,-1)),Yt=L(()=>e("span",{class:"ml-2 text-sm sm:text-base text-gray-600"},"Loading attendance records...",-1)),Qt=[qt,Yt],Xt={key:1,class:"space-y-3"},Kt={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4"},es={class:"text-sm text-gray-600"},ts=L(()=>e("span",null,"Refresh",-1)),ss={class:"flex items-center space-x-3 sm:space-x-4"},os=["onClick"],ns={class:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold text-xs sm:text-sm relative overflow-hidden"},as=["src"],rs={key:1,class:"text-white text-xs sm:text-sm font-medium"},ls=["onClick"],is={class:"font-medium text-gray-800 truncate text-sm sm:text-base"},cs={class:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-4 text-xs sm:text-sm text-gray-600 mt-1"},ds=L(()=>e("span",{class:"hidden sm:inline text-gray-400"},"\u2022",-1)),us={class:"truncate text-xs"},ms={class:"flex items-center flex-wrap gap-2 sm:gap-4 mt-2 text-xs"},hs={class:"flex items-center space-x-1 text-green-600"},_s={class:"flex items-center space-x-1 text-red-600"},gs={class:"flex items-center space-x-1 text-yellow-600"},xs={class:"flex-shrink-0 flex items-center space-x-1 sm:space-x-2"},ps=["onClick"],vs=["onClick"],fs={key:2,class:"text-center py-6 sm:py-8"},bs={class:"bg-white rounded-lg shadow-sm p-6 sm:p-8"},ys=L(()=>e("h3",{class:"text-base sm:text-lg font-medium text-gray-800 mb-2"},"No Students Found",-1)),ws=L(()=>e("p",{class:"text-sm text-gray-600 mb-4"},"No attendance records available for this class.",-1)),ks=L(()=>e("span",null,"Refresh Data",-1)),$s={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-3 sm:p-4"},Cs={class:"bg-white rounded-lg p-4 sm:p-6 w-full max-w-sm sm:max-w-md mx-auto max-h-[90vh] sm:max-h-[80vh] overflow-y-auto"},Ss={class:"flex items-center justify-between mb-4"},js=L(()=>e("h3",{class:"text-lg font-semibold text-gray-800"},"Student Details",-1)),Ms={class:"flex items-center space-x-3 sm:space-x-4 mb-4 sm:mb-6"},As={class:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold text-base sm:text-lg relative overflow-hidden"},Ns=["src"],Es={key:1,class:"text-white text-base sm:text-lg font-medium"},Ds={class:"min-w-0 flex-1"},Ls={class:"font-medium text-gray-800 text-sm sm:text-base truncate"},Is={class:"text-xs sm:text-sm text-gray-600"},Bs={class:"text-xs text-gray-500 truncate"},Ts={class:"grid grid-cols-3 gap-2 sm:gap-4 mb-4 sm:mb-6"},Ps={class:"text-center p-2 sm:p-3 bg-green-50 rounded-lg"},Gs={class:"text-xl sm:text-2xl font-bold text-green-600"},zs=L(()=>e("p",{class:"text-xs sm:text-sm text-green-700"},"Present",-1)),Vs={class:"text-center p-2 sm:p-3 bg-red-50 rounded-lg"},Rs={class:"text-xl sm:text-2xl font-bold text-red-600"},Fs=L(()=>e("p",{class:"text-xs sm:text-sm text-red-700"},"Absent",-1)),Os={class:"text-center p-2 sm:p-3 bg-yellow-50 rounded-lg"},Hs={class:"text-xl sm:text-2xl font-bold text-yellow-600"},Us=L(()=>e("p",{class:"text-xs sm:text-sm text-yellow-700"},"Leave",-1)),Js={class:"border-t pt-3 sm:pt-4"},Ws=L(()=>e("h5",{class:"font-medium text-gray-800 mb-2 sm:mb-3 text-sm sm:text-base"},"Contact Information",-1)),Zs={key:0,class:"text-center py-3 sm:py-4"},qs=L(()=>e("div",{class:"spinner-small mx-auto mb-2"},null,-1)),Ys=L(()=>e("p",{class:"text-xs sm:text-sm text-gray-500"},"Loading guardian information...",-1)),Qs=[qs,Ys],Xs={key:1,class:"mb-2 sm:mb-3"},Ks=L(()=>e("p",{class:"text-xs text-gray-500 mb-1 sm:mb-2 font-medium uppercase tracking-wide"},"Student Mobile",-1)),eo=["href"],to={class:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1"},so={class:"w-7 h-7 sm:w-8 sm:h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0"},oo={class:"min-w-0 flex-1"},no=L(()=>e("span",{class:"font-semibold block text-gray-800 truncate text-xs sm:text-sm"},"Student",-1)),ao={class:"text-gray-600 text-xs"},ro={key:2,class:"space-y-2"},lo=L(()=>e("p",{class:"text-xs text-gray-500 mb-1 sm:mb-2 font-medium uppercase tracking-wide"},"Guardian Contacts",-1)),io=["href"],co={class:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1"},uo={class:"min-w-0 flex-1"},mo={class:"font-semibold block text-gray-800 truncate text-xs sm:text-sm"},ho={class:"text-gray-600 text-xs"},_o={key:3,class:"space-y-2"},go=L(()=>e("p",{class:"text-xs text-gray-500 mb-1 sm:mb-2 font-medium uppercase tracking-wide"},"Guardian Contact",-1)),xo=["href"],po={class:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1"},vo={class:"w-7 h-7 sm:w-8 sm:h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0"},fo={class:"min-w-0 flex-1"},bo={class:"font-semibold block text-gray-800 truncate text-xs sm:text-sm"},yo={class:"text-gray-600 text-xs"},wo={key:4,class:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t"},ko=L(()=>e("p",{class:"text-xs text-gray-500 mb-1 sm:mb-2 font-medium uppercase tracking-wide"},"Address",-1)),$o={class:"flex items-start space-x-2 sm:space-x-3 text-sm text-gray-600 p-2 bg-gray-50 rounded-lg"},Co={class:"leading-relaxed text-xs break-words"},So={key:5,class:"text-center py-3 sm:py-4"},jo=L(()=>e("p",{class:"text-xs sm:text-sm text-gray-500"},"No contact information available",-1)),Mo={class:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 mt-4 sm:mt-6"},Ao=L(()=>e("span",null,"Edit Student",-1)),No={setup(_){const c=ce(),u=S([]),g=S(!0),d=S(""),m=S(null),A=S(!1),y=S([]),$=S(!1),f=t=>t.guardian_name?t.guardian_name:t.parent_name?t.parent_name:"Guardian",E=t=>{if(!t)return"";const x=t.replace(/\D/g,"");return x.length===10?x.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"):t},D=t=>{const x=["text-green-700 hover:text-green-900 border-green-100","text-purple-700 hover:text-purple-900 border-purple-100","text-orange-700 hover:text-orange-900 border-orange-100","text-indigo-700 hover:text-indigo-900 border-indigo-100","text-pink-700 hover:text-pink-900 border-pink-100"];return x[t%x.length]},T=t=>{const x=["bg-green-100","bg-purple-100","bg-orange-100","bg-indigo-100","bg-pink-100"];return x[t%x.length]},G=t=>{const x=["text-green-600","text-purple-600","text-orange-600","text-indigo-600","text-pink-600"];return x[t%x.length]},w=t=>{const x=["text-green-600","text-purple-600","text-orange-600","text-indigo-600","text-pink-600"];return x[t%x.length]},M=t=>t?t.startsWith("http")||t.startsWith("//")?t:t.startsWith("/")?window.location.origin+t:`${window.location.origin}/${t.replace(/^\//,"")}`:null,P=t=>t?t.split(" ").map(x=>x.charAt(0)).join("").toUpperCase().substring(0,2):"?",z=t=>{t.target.style.display="none"},R=O({url:"school.al_ummah.api2.get_guardian_numbers",makeParams({student_id:t}){return{student_id:t}},onSuccess(t){return t},onError(t){return console.error("Error fetching guardian numbers:",t),null}}),U=t=>V(this,null,function*(){if(!!t){$.value=!0,y.value=[];try{const x={student_id:t},j=yield R.fetch(x);j&&Array.isArray(j)?y.value=j:console.warn("Invalid API response format:",j)}catch(x){console.warn("Failed to fetch guardian numbers:",x)}finally{$.value=!1}}}),J=t=>{var j,s,p;const x=fe({student_id:t.student,student_name:t.student_name,group_roll_number:t.group_roll_number,student_group:d.value,"First Name":t.first_name||((j=t.student_name)==null?void 0:j.split(" ")[0])||"","Middle Name":t.middle_name||((s=t.student_name)==null?void 0:s.split(" ")[1])||"","Last Name":t.last_name||((p=t.student_name)==null?void 0:p.split(" ")[2])||"","Student Date of Birth":t.date_of_birth||t.student_date_of_birth||"","GR Number":t.gr_number||t.group_roll_number||"","Email Address":t.email||t.email_address||"","Phone Number":t.mobile||t.phone_number||"","Guardian Name":t.guardian_name||t.parent_name||"","Guardian Number":t.guardian_number||t.parent_mobile||"","Guardian Name 2":t.guardian_name_2||"","Guardian Number 2":t.guardian_number_2||"","Guardian Name 3":t.guardian_name_3||"","Guardian Number 3":t.guardian_number_3||"",Relation:t.relation||"","Guardian Date of Birth":t.guardian_date_of_birth||"","Guardian Email":t.guardian_email||"","Guardian Occupation":t.guardian_occupation||"","Guardian Designation":t.guardian_designation||"","Guardian Work Address":t.guardian_work_address||"","Guardian Education":t.guardian_education||"",address:t.address||"",img_url:t.img_url||"",present_count:t.present_count||0,absent_count:t.absent_count||0,leave_count:t.leave_count||0,gender:t.gender||"",date_of_birth:t.date_of_birth||"",parent_name:t.parent_name||"",parent_mobile:t.parent_mobile||""},t);c.push({name:"EditStudent",query:{studentId:t.student,studentData:encodeURIComponent(JSON.stringify(x))}})},W=O({url:"school.al_ummah.api2.get_student_attendance_records",makeParams({based_on:t,student_group:x,calculate_count_data:j}){return{based_on:t,student_group:x,calculate_count_data:j||!0}},onSuccess(t){return t},onError(t){console.error("Error fetching attendance records:",t),n()}}),Z=()=>{try{const t=localStorage.getItem("selected_student_group");t&&(d.value=t)}catch(t){console.error("Failed to load selected student group:",t)}},C=()=>V(this,null,function*(){if(!!d.value){g.value=!0;try{const t={based_on:"Student Group",student_group:d.value,calculate_count_data:!0},x=yield W.fetch(t);x&&Array.isArray(x)&&x.length>0&&(localStorage.setItem("attendance_data",JSON.stringify(x)),u.value=x)}catch(t){console.warn("Failed to fetch data from API:",t)}finally{g.value=!1}}}),n=()=>V(this,null,function*(){try{const t=localStorage.getItem("attendance_data");t&&(u.value=JSON.parse(t))}catch(t){console.error("Failed to load attendance data from storage:",t)}finally{g.value=!1}}),v=t=>V(this,null,function*(){m.value=t,A.value=!0,yield U(t.student)}),h=()=>{A.value=!1,m.value=null,y.value=[]};return te(()=>{Z(),d.value?(n(),C()):g.value=!1}),le(d,t=>{t&&(n(),C())}),(t,x)=>(o(),a("div",Ot,[e("div",Ht,[Ut,Jt,d.value?(o(),a("p",Wt,"Class: "+r(d.value),1)):N("",!0)]),g.value?(o(),a("div",Zt,Qt)):u.value&&u.value.length>0?(o(),a("div",Xt,[e("div",Kt,[e("p",es," Total Students: "+r(u.value.length),1),e("button",{onClick:C,class:"px-3 py-2 sm:py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center justify-center sm:justify-start space-x-2 w-full sm:w-auto"},[k(l(ke),{class:"w-4 h-4"}),ts])]),(o(!0),a(X,null,K(u.value,j=>(o(),a("div",{key:j.student,class:"bg-white rounded-lg shadow-sm p-3 sm:p-4 border border-gray-200 hover:border-blue-300 transition-colors"},[e("div",ss,[e("div",{class:"flex-shrink-0 cursor-pointer",onClick:s=>v(j)},[e("div",ns,[j.img_url?(o(),a("img",{key:0,src:M(j.img_url),alt:"Student",class:"absolute inset-0 w-full h-full object-cover",onError:z,loading:"lazy"},null,40,as)):(o(),a("span",rs,r(P(j.student_name)),1))])],8,os),e("div",{class:"flex-1 min-w-0 cursor-pointer",onClick:s=>v(j)},[e("h3",is,r(j.student_name),1),e("div",cs,[e("span",null,"Roll No: "+r(j.group_roll_number),1),ds,e("span",us,"ID: "+r(j.student),1)]),e("div",ms,[e("span",hs,[k(l($e),{class:"w-3 h-3 sm:w-4 sm:h-4"}),e("span",null,"Present: "+r(j.present_count||0),1)]),e("span",_s,[k(l(je),{class:"w-3 h-3 sm:w-4 sm:h-4"}),e("span",null,"Absent: "+r(j.absent_count||0),1)]),e("span",gs,[k(l(xe),{class:"w-3 h-3 sm:w-4 sm:h-4"}),e("span",null,"Leave: "+r(j.leave_count||0),1)])])],8,ls),e("div",xs,[e("button",{onClick:ee(s=>J(j),["stop"]),class:"p-1.5 sm:p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Student"},[k(l(Ce),{class:"w-4 h-4 sm:w-5 sm:h-5"})],8,ps),e("div",{class:"cursor-pointer",onClick:ee(s=>v(j),["stop"])},[k(l(Fe),{class:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400"})],8,vs)])])]))),128))])):(o(),a("div",fs,[e("div",bs,[k(l(he),{class:"w-12 h-12 sm:w-16 sm:h-16 text-gray-300 mx-auto mb-3 sm:mb-4"}),ys,ws,e("button",{onClick:C,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center space-x-2 mx-auto w-full sm:w-auto"},[k(l(ke),{class:"w-4 h-4"}),ks])])])),m.value&&A.value?(o(),a("div",$s,[e("div",Cs,[e("div",Ss,[js,e("button",{onClick:h,class:"text-gray-400 hover:text-gray-600"},[k(l(me),{class:"w-5 h-5 sm:w-6 sm:h-6"})])]),e("div",Ms,[e("div",As,[m.value.img_url?(o(),a("img",{key:0,src:M(m.value.img_url),alt:"Student",class:"absolute inset-0 w-full h-full object-cover",onError:z,loading:"lazy"},null,40,Ns)):(o(),a("span",Es,r(P(m.value.student_name)),1))]),e("div",Ds,[e("h4",Ls,r(m.value.student_name),1),e("p",Is,"Roll No: "+r(m.value.group_roll_number),1),e("p",Bs,"ID: "+r(m.value.student),1)])]),e("div",Ts,[e("div",Ps,[k(l($e),{class:"w-6 h-6 sm:w-8 sm:h-8 text-green-600 mx-auto mb-1 sm:mb-2"}),e("p",Gs,r(m.value.present_count||0),1),zs]),e("div",Vs,[k(l(je),{class:"w-6 h-6 sm:w-8 sm:h-8 text-red-600 mx-auto mb-1 sm:mb-2"}),e("p",Rs,r(m.value.absent_count||0),1),Fs]),e("div",Os,[k(l(xe),{class:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-600 mx-auto mb-1 sm:mb-2"}),e("p",Hs,r(m.value.leave_count||0),1),Us])]),e("div",Js,[Ws,$.value?(o(),a("div",Zs,Qs)):N("",!0),m.value.mobile?(o(),a("div",Xs,[Ks,e("a",{href:`tel:${m.value.mobile}`,class:"flex items-center justify-between text-sm text-blue-700 hover:text-blue-900 hover:bg-blue-50 p-2 rounded-lg transition-all duration-200 cursor-pointer border border-blue-100"},[e("div",to,[e("div",so,[k(l(ie),{class:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600"})]),e("div",oo,[no,e("span",ao,r(E(m.value.mobile)),1)])]),k(l(ie),{class:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600 flex-shrink-0"})],8,eo)])):N("",!0),!$.value&&y.value.length>0?(o(),a("div",ro,[lo,(o(!0),a(X,null,K(y.value,(j,s)=>(o(),a("div",{key:s},[e("a",{href:`tel:${j.mobile_number}`,class:B(["flex items-center justify-between text-sm hover:bg-gray-50 p-2 rounded-lg transition-all duration-200 cursor-pointer border",D(s)])},[e("div",co,[e("div",{class:B(["w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center flex-shrink-0",T(s)])},[k(l(re),{class:B(["w-3 h-3 sm:w-4 sm:h-4",G(s)])},null,8,["class"])],2),e("div",uo,[e("span",mo,r(j.guardian_name),1),e("span",ho,r(E(j.mobile_number)),1)])]),k(l(ie),{class:B(["w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0",w(s)])},null,8,["class"])],10,io)]))),128))])):N("",!0),!$.value&&y.value.length===0&&(m.value.guardian_number||m.value.parent_mobile)?(o(),a("div",_o,[go,e("a",{href:`tel:${m.value.guardian_number||m.value.parent_mobile}`,class:"flex items-center justify-between text-sm text-green-700 hover:text-green-900 hover:bg-green-50 p-2 rounded-lg transition-all duration-200 cursor-pointer border border-green-100"},[e("div",po,[e("div",vo,[k(l(re),{class:"w-3 h-3 sm:w-4 sm:h-4 text-green-600"})]),e("div",fo,[e("span",bo,r(f(m.value)),1),e("span",yo,r(E(m.value.guardian_number||m.value.parent_mobile)),1)])]),k(l(ie),{class:"w-3 h-3 sm:w-4 sm:h-4 text-green-600 flex-shrink-0"})],8,xo)])):N("",!0),m.value.address?(o(),a("div",wo,[ko,e("div",$o,[k(l(Oe),{class:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400 mt-0.5 flex-shrink-0"}),e("span",Co,r(m.value.address),1)])])):N("",!0),!m.value.mobile&&y.value.length===0&&!m.value.address&&!$.value?(o(),a("div",So,[k(l(re),{class:"w-6 h-6 sm:w-8 sm:h-8 text-gray-300 mx-auto mb-2"}),jo])):N("",!0)]),e("div",Mo,[e("button",{onClick:x[0]||(x[0]=j=>J(m.value)),class:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center space-x-2 transition-colors text-sm sm:text-base"},[k(l(Ce),{class:"w-3 h-3 sm:w-4 sm:h-4"}),Ao]),e("button",{onClick:h,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm sm:text-base"}," Close ")])])])):N("",!0)]))}};var Eo=oe(No,[["__scopeId","data-v-9af280c2"]]);const Do={class:"min-h-screen bg-gray-50 p-4"},Lo={class:"max-w-4xl mx-auto"},Io=e("div",{class:"mb-6"},[e("h1",{class:"text-2xl font-bold text-gray-800"},"Create Notice"),e("p",{class:"text-gray-600"},"Send announcements to students and parents")],-1),Bo={class:"bg-white rounded-lg shadow-sm p-6"},To={class:"mb-6"},Po=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Notice Title * ",-1),Go={class:"mb-6"},zo=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Notice Message * ",-1),Vo={class:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200"},Ro={class:"text-sm text-blue-700"},Fo=e("span",{class:"font-medium"},"Selected Class:",-1),Oo={class:"flex justify-end"},Ho=["disabled"],Uo={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Jo=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"},null,-1),Wo=[Jo],Zo={key:1,class:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},qo=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1),Yo=[qo],Qo={setup(_){const c=S(""),u=S(""),g=S(""),d=O({url:"school.al_ummah.api2.submit_notice",auto:!1,onSuccess(f){console.log("Notice submission response:",f),f.message?y(f.message):typeof f=="string"&&f.includes("success")?y(f):y("Notice published successfully!"),c.value="",u.value=""},onError(f){console.error("Error submitting notice:",f),f.message?$(f.message):f.exc_type==="ValidationError"?$("Validation error: Please check your input data."):$("An error occurred while submitting the notice.")}}),m=()=>{try{const f=localStorage.getItem("selected_student_group");f&&(g.value=f)}catch(f){console.error("Failed to load selected student group:",f)}},A=()=>V(this,null,function*(){if(!c.value.trim()||!u.value.trim()){$("Please enter both title and notice message.");return}if(!g.value){$("Student group information is missing.");return}const f={notice_heading:u.value.trim(),notice_message:c.value.trim(),student_group:g.value};console.log("Submitting notice:",f),yield d.fetch(f)}),y=f=>{alert(`\u2705 Success: ${f}`)},$=f=>{alert(`\u274C Error: ${f}`)};return te(()=>{m()}),(f,E)=>(o(),a("div",Do,[e("div",Lo,[Io,e("div",Bo,[e("div",To,[Po,de(e("input",{"onUpdate:modelValue":E[0]||(E[0]=D=>u.value=D),type:"text",placeholder:"Enter notice title",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[be,u.value]])]),e("div",Go,[zo,de(e("textarea",{"onUpdate:modelValue":E[1]||(E[1]=D=>c.value=D),rows:"8",placeholder:"Enter your notice message here...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"},null,512),[[be,c.value]])]),e("div",Vo,[e("p",Ro,[Fo,ye(" "+r(g.value||"No class selected"),1)])]),e("div",Oo,[e("button",{onClick:A,disabled:l(d).loading,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed flex items-center space-x-2 transition-colors"},[l(d).loading?(o(),a("svg",Zo,Yo)):(o(),a("svg",Uo,Wo)),e("span",null,r(l(d).loading?"Publishing...":"Publish Notice"),1)],8,Ho)])])])]))}};const Q=_=>(ne("data-v-b50e67de"),_=_(),ae(),_),Xo={class:"min-h-screen bg-gray-50 p-4"},Ko={class:"mb-6"},en=Q(()=>e("h1",{class:"text-2xl font-bold text-gray-800"},"Previous Notices",-1)),tn=Q(()=>e("p",{class:"text-gray-600"},"View all published notices",-1)),sn={key:0,class:"text-sm text-gray-500 mt-1"},on={key:0,class:"flex justify-center items-center py-8"},nn=Q(()=>e("div",{class:"spinner"},null,-1)),an=Q(()=>e("span",{class:"ml-2 text-gray-600"},"Loading notices...",-1)),rn=[nn,an],ln={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},cn=Q(()=>e("p",{class:"text-red-800"},"Failed to load notices.",-1)),dn={key:2,class:"space-y-4"},un=["onClick"],mn={class:"p-6"},hn={class:"flex items-start justify-between mb-3"},_n={class:"text-lg font-semibold text-gray-800 flex-1 pr-4"},gn={class:"text-sm text-gray-500 whitespace-nowrap"},xn={class:"text-gray-600 line-clamp-2 mb-4"},pn={class:"flex items-center justify-between text-sm text-gray-500"},vn=["onClick"],fn={key:0,class:"text-center py-12"},bn=ue('<div class="bg-white rounded-lg shadow-sm p-8" data-v-b50e67de><svg class="w-16 h-16 text-gray-300 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-b50e67de><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-b50e67de></path></svg><h3 class="text-lg font-medium text-gray-800 mb-2" data-v-b50e67de>No Notices Found</h3><p class="text-gray-600" data-v-b50e67de>No notices have been published for this class yet.</p></div>',1),yn=[bn],wn={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},kn={class:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto"},$n={class:"p-6"},Cn={class:"flex items-center justify-between mb-4"},Sn={class:"text-xl font-bold text-gray-800"},jn=Q(()=>e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),Mn=[jn],An={class:"mb-4 text-sm text-gray-500"},Nn={class:"prose max-w-none mb-6"},En={class:"text-gray-700 whitespace-pre-wrap"},Dn={class:"flex space-x-3 pt-4 border-t"},Ln=Q(()=>e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)),In=Q(()=>e("span",null,"Delete Notice",-1)),Bn=[Ln,In],Tn={setup(_){const c=S([]),u=S(""),g=S(null),d=S(!1),m=O({url:"school.al_ummah.api2.get_notice_list",auto:!1,onSuccess(w){console.log("Notices loaded:",w),c.value=Array.isArray(w)?w:[]},onError(w){console.error("Error fetching notices:",w),c.value=[]}}),A=O({url:"school.al_ummah.api2.delete_notice",auto:!1,onSuccess(){console.log("Notice deleted successfully"),$(),D()},onError(w){console.error("Error deleting notice:",w),G("Error","Failed to delete notice. Please try again.")}}),y=()=>{try{const w=localStorage.getItem("selected_student_group");w&&(u.value=w)}catch(w){console.error("Failed to load selected student group:",w)}},$=()=>{if(!u.value)return;const w={student_group:u.value};m.fetch(w)},f=w=>{if(!w)return"No date";try{return new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(M){return w}},E=w=>{g.value=w,d.value=!0},D=()=>{d.value=!1,g.value=null},T=w=>{if(!w){G("Error","No notice ID provided");return}confirm("Are you sure you want to delete this notice? This action cannot be undone.")&&A.fetch({name:w})},G=(w,M)=>{w==="Error"?window.alert(`Error: ${M}`):window.alert(M)};return te(()=>{y(),u.value&&$()}),le(u,w=>{w&&$()}),(w,M)=>(o(),a("div",Xo,[e("div",Ko,[en,tn,u.value?(o(),a("p",sn,"Class: "+r(u.value),1)):N("",!0)]),l(m).loading?(o(),a("div",on,rn)):l(m).error?(o(),a("div",ln,[cn,e("button",{onClick:$,class:"mt-2 px-3 py-1 bg-red-600 text-white rounded text-sm"}," Retry ")])):(o(),a("div",dn,[(o(!0),a(X,null,K(c.value,(P,z)=>(o(),a("div",{key:z,class:"bg-white rounded-lg shadow-sm border border-gray-200 hover:border-blue-300 transition-colors cursor-pointer",onClick:R=>E(P)},[e("div",mn,[e("div",hn,[e("h3",_n,r(P.notice_heading||"No Title"),1),e("span",gn,r(f(P.date)),1)]),e("p",xn,r(P.notice_message||"No message content"),1),e("div",pn,[e("span",null,"By: "+r(P.owner||"System"),1),e("button",{onClick:ee(R=>T(P.name),["stop"]),class:"text-red-600 hover:text-red-800 font-medium"}," Delete ",8,vn)])])],8,un))),128)),c.value.length===0?(o(),a("div",fn,yn)):N("",!0)])),g.value&&d.value?(o(),a("div",wn,[e("div",kn,[e("div",$n,[e("div",Cn,[e("h2",Sn,r(g.value.notice_heading),1),e("button",{onClick:D,class:"text-gray-400 hover:text-gray-600"},Mn)]),e("div",An,[e("p",null,"Published on: "+r(f(g.value.date)),1),e("p",null,"By: "+r(g.value.owner||"System"),1)]),e("div",Nn,[e("p",En,r(g.value.notice_message),1)]),e("div",Dn,[e("button",{onClick:M[0]||(M[0]=P=>T(g.value.name)),class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center space-x-2"},Bn),e("button",{onClick:D,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"}," Close ")])])])])):N("",!0)]))}};var Pn=oe(Tn,[["__scopeId","data-v-b50e67de"]]);const b=_=>(ne("data-v-19534540"),_=_(),ae(),_),Gn={class:"min-h-screen bg-gray-50 p-4"},zn={key:0,class:"flex justify-center items-center py-12"},Vn=b(()=>e("div",{class:"spinner"},null,-1)),Rn=b(()=>e("span",{class:"ml-3 text-gray-600 text-lg"},"Loading leave applications...",-1)),Fn=[Vn,Rn],On={key:1,class:"bg-red-50 border border-red-200 rounded-xl p-6 mb-6 max-w-4xl mx-auto"},Hn={class:"flex items-start space-x-4"},Un=b(()=>e("div",{class:"flex-shrink-0"},[e("svg",{class:"w-6 h-6 text-red-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),Jn={class:"flex-1"},Wn=b(()=>e("p",{class:"text-red-800 font-semibold text-lg"},"Unable to Load Applications",-1)),Zn={class:"text-red-700 mt-2"},qn={key:2,class:"text-center py-16"},Yn=ue('<div class="max-w-md mx-auto" data-v-19534540><div class="w-20 h-20 mx-auto mb-4 bg-blue-100 rounded-2xl flex items-center justify-center" data-v-19534540><svg class="w-10 h-10 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-19534540><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-19534540></path></svg></div><h3 class="text-xl font-semibold text-gray-700 mb-2" data-v-19534540>No Leave Applications</h3><p class="text-gray-500" data-v-19534540>There are no leave applications for this group.</p></div>',1),Qn=[Yn],Xn={key:3,class:"max-w-6xl mx-auto"},Kn={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 mb-6"},ea={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},ta=b(()=>e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Leave Applications"),e("p",{class:"text-gray-600 mt-1"},"Review and manage student leave requests")],-1)),sa={class:"flex items-center space-x-4 mt-4 sm:mt-0"},oa={class:"flex items-center space-x-2"},na=b(()=>e("div",{class:"w-3 h-3 bg-yellow-500 rounded-full"},null,-1)),aa={class:"text-sm text-gray-600"},ra={class:"flex items-center space-x-2"},la=b(()=>e("div",{class:"w-3 h-3 bg-green-500 rounded-full"},null,-1)),ia={class:"text-sm text-gray-600"},ca={class:"grid gap-6"},da={class:"p-6"},ua={class:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4"},ma={class:"flex items-start space-x-4 flex-1 min-w-0"},ha={class:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-sm"},_a={class:"text-white font-semibold text-lg"},ga={class:"flex-1 min-w-0"},xa={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},pa={class:"font-bold text-gray-900 text-xl"},va={class:"text-gray-600 text-sm mt-1"},fa={class:"flex items-center space-x-3"},ba=["onClick"],ya=b(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)),wa=[ya],ka={class:"flex flex-wrap items-center gap-4 mt-4"},$a={class:"flex items-center space-x-2 text-gray-700"},Ca=b(()=>e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),Sa={class:"text-sm font-medium"},ja={class:"flex items-center space-x-2 text-gray-700"},Ma=b(()=>e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),Aa={class:"text-sm font-medium"},Na={class:"flex items-center space-x-2 text-blue-700"},Ea=b(()=>e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),Da={class:"text-sm font-semibold"},La={class:"text-gray-600 mt-3 line-clamp-2"},Ia={key:0,class:"mt-3"},Ba=b(()=>e("span",{class:"inline-flex items-center px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-sm font-medium"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),ye(" Medical Certificate Available ")],-1)),Ta=[Ba],Pa={key:0,class:"border-t border-gray-100 p-6 bg-gray-50 rounded-b-2xl"},Ga={class:"grid grid-cols-1 xl:grid-cols-2 gap-8"},za={class:"space-y-6"},Va={class:"bg-white rounded-xl border border-gray-200 p-6"},Ra=b(()=>e("h4",{class:"font-bold text-gray-900 text-lg mb-4"},"Leave Details",-1)),Fa={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Oa=b(()=>e("label",{class:"text-sm font-medium text-gray-500"},"Student Name",-1)),Ha={class:"text-gray-900 font-semibold mt-1"},Ua=b(()=>e("label",{class:"text-sm font-medium text-gray-500"},"Student ID",-1)),Ja={class:"text-gray-900 font-semibold mt-1"},Wa=b(()=>e("label",{class:"text-sm font-medium text-gray-500"},"Leave ID",-1)),Za={class:"text-gray-900 font-semibold mt-1"},qa=b(()=>e("label",{class:"text-sm font-medium text-gray-500"},"Duration",-1)),Ya={class:"text-gray-900 font-semibold mt-1"},Qa=b(()=>e("label",{class:"text-sm font-medium text-gray-500"},"Status",-1)),Xa=b(()=>e("label",{class:"text-sm font-medium text-gray-500"},"Mark as Present",-1)),Ka={class:"text-gray-900 font-semibold mt-1"},er={class:"bg-white rounded-xl border border-gray-200 p-6"},tr=b(()=>e("h5",{class:"font-bold text-gray-900 text-lg mb-3"},"Reason for Leave",-1)),sr={class:"text-gray-700 bg-gray-50 p-4 rounded-lg border border-gray-200"},or={key:0,class:"bg-white rounded-xl border border-gray-200 p-6"},nr=b(()=>e("h5",{class:"font-bold text-gray-900 text-lg mb-4"},"Approve Leave",-1)),ar=["onClick","disabled"],rr=b(()=>e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),lr=b(()=>e("span",null,"Approve Leave Application",-1)),ir=[rr,lr],cr=b(()=>e("p",{class:"text-gray-500 text-sm mt-3 text-center"}," This will approve the leave request and notify the student ",-1)),dr={key:1,class:"bg-green-50 rounded-xl border border-green-200 p-6 text-center"},ur=ue('<div class="flex items-center justify-center space-x-2 text-green-700 mb-2" data-v-19534540><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-19534540><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-19534540></path></svg><span class="font-semibold" data-v-19534540>Leave Approved</span></div><p class="text-green-600 text-sm" data-v-19534540> This leave application has been approved and processed. </p>',2),mr=[ur],hr={key:0,class:"space-y-6"},_r={class:"bg-white rounded-xl border border-gray-200 p-6"},gr=b(()=>e("h4",{class:"font-bold text-gray-900 text-lg mb-4"},"Medical Certificate",-1)),xr={class:"space-y-4"},pr={class:"border-2 border-dashed border-gray-200 rounded-xl overflow-hidden bg-gray-50"},vr=["src","onClick"],fr={class:"grid grid-cols-2 gap-3"},br=["onClick"],yr=b(()=>e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),wr=b(()=>e("span",null,"View Full Size",-1)),kr=[yr,wr],$r=["onClick"],Cr=b(()=>e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)),Sr=b(()=>e("span",null,"Download",-1)),jr=[Cr,Sr],Mr={key:1,class:"flex items-center justify-center p-8 bg-white rounded-xl border border-gray-200"},Ar=b(()=>e("div",{class:"text-center"},[e("svg",{class:"w-12 h-12 mx-auto text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("p",{class:"text-gray-500 font-medium"},"No medical certificate provided")],-1)),Nr=[Ar],Er={key:2,class:"flex items-center justify-center p-8 bg-green-50 rounded-xl border border-green-200"},Dr=b(()=>e("div",{class:"text-center"},[e("svg",{class:"w-12 h-12 mx-auto text-green-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("p",{class:"text-green-700 font-medium"},"Approved without medical certificate")],-1)),Lr=[Dr],Ir={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Br=b(()=>e("div",{class:"bg-white rounded-2xl p-8 flex items-center space-x-4 shadow-xl"},[e("div",{class:"spinner-small"}),e("div",null,[e("p",{class:"font-semibold text-gray-900"},"Approving Leave"),e("p",{class:"text-gray-600 text-sm mt-1"},"Please wait while we process your request...")])],-1)),Tr=[Br],Pr={key:5,class:"fixed top-4 right-4 z-50 max-w-sm w-full"},Gr={class:"bg-red-50 border border-red-200 rounded-xl p-4 shadow-lg"},zr={class:"flex items-start space-x-3"},Vr=b(()=>e("svg",{class:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),Rr={class:"flex-1"},Fr=b(()=>e("p",{class:"text-red-800 font-medium text-sm"},"Error",-1)),Or={class:"text-red-700 text-sm mt-1"},Hr=b(()=>e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),Ur=[Hr],Jr={key:6,class:"fixed top-4 right-4 z-50 max-w-sm w-full"},Wr={class:"bg-green-50 border border-green-200 rounded-xl p-4 shadow-lg"},Zr={class:"flex items-start space-x-3"},qr=b(()=>e("svg",{class:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),Yr={class:"flex-1"},Qr=b(()=>e("p",{class:"text-green-800 font-medium text-sm"},"Success",-1)),Xr={class:"text-green-700 text-sm mt-1"},Kr=b(()=>e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),el=[Kr],tl={key:7,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4"},sl={class:"bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] flex flex-col shadow-2xl"},ol={class:"flex justify-between items-center p-6 border-b border-gray-200"},nl=b(()=>e("h3",{class:"text-xl font-bold text-gray-900"},"Medical Certificate",-1)),al={class:"text-gray-600 text-sm mt-1"},rl=b(()=>e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),ll=[rl],il={class:"flex-1 p-6 overflow-auto"},cl=["src"],dl=b(()=>e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)),ul=b(()=>e("span",null,"Download Certificate",-1)),ml=[dl,ul],hl={setup(_){const c=S([]),u=S(""),g=S(null),d=S(!1),m=S(""),A=S(""),y=S(!1),$=S(!1),f=S(""),E=Y(()=>c.value.filter(s=>s.docstatus===0).length),D=Y(()=>c.value.filter(s=>s.docstatus===1).length),T=(s,p="error")=>{f.value=s,p==="success"?($.value=!0,setTimeout(()=>{$.value=!1},5e3)):(y.value=!0,setTimeout(()=>{y.value=!1},5e3))},G=O({url:"school.al_ummah.api2.get_leave_application_list",auto:!1,onSuccess(s){console.log("Raw API response:",s),Array.isArray(s)?c.value=s:s&&typeof s=="object"?s.message&&Array.isArray(s.message)?c.value=s.message:s.appeals&&Array.isArray(s.appeals)?c.value=s.appeals:s.leave_applications&&Array.isArray(s.leave_applications)?c.value=s.leave_applications:Array.isArray(s.data)?c.value=s.data:c.value=Object.keys(s).length>0?[s]:[]:c.value=[],console.log("Processed appeals:",c.value),u.value=""},onError(s){console.error("Error fetching leave applications:",s);const p=M(s,"Failed to load leave applications.");u.value=p,c.value=[]}}),w=O({url:"school.al_ummah.api2.approve_leave",method:"POST",auto:!1,onSuccess(s){if(console.log("\u2705 Approve API Response:",s),s.success){const p=c.value.findIndex(i=>i.name===s.name);p!==-1&&(c.value[p].docstatus=1,console.log("\u{1F504} Updated appeal docstatus to approved")),T(s.message||"Leave application approved successfully.","success"),g.value=null,j()}else console.log("\u274C API returned success: false"),T(s.message||"Failed to approve leave application.")},onError(s){console.error("\u{1F6A8} Error approving leave:",s);const p=M(s,"Failed to approve leave application.");T(p)}}),M=(s,p)=>{if(!s)return p;if(s._server_messages)try{const i=JSON.parse(s._server_messages||"[]");if(i.length>0){const q=i[i.length-1];try{const F=JSON.parse(q);return F.message||F.exc_type||p}catch(F){return q||p}}}catch(i){console.error("Error parsing server messages:",i)}return s.message?s.message:s.exc_type||s.exc_message?s.exc_message||s.exc_type||p:typeof s=="string"?s:p},P=s=>{if(!s)return"N/A";try{return new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(p){return s||"N/A"}},z=(s,p)=>{if(!s||!p)return 0;try{const i=new Date(s),q=new Date(p),F=Math.abs(q-i);return Math.ceil(F/(1e3*60*60*24))+1}catch(i){return 0}},R=s=>s?s.split(" ").map(p=>p[0]).join("").toUpperCase().substring(0,2):"?",U=s=>s===0?"Pending":"Approved",J=s=>s===0?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",W=s=>{console.error("Image failed to load"),s.target.style.display="none"},Z=s=>{console.error("Modal image failed to load"),T("Failed to load medical certificate image."),d.value=!1},C=s=>{g.value=g.value===s?null:s},n=(s,p)=>{s?(m.value=s,A.value=p,d.value=!0):T("Unable to display medical certificate.")},v=(s,p)=>{if(s){const i=document.createElement("a");i.href=s,i.download=`medical-certificate-${p||"student"}.jpg`,i.target="_blank",document.body.appendChild(i),i.click(),document.body.removeChild(i)}},h=()=>{m.value&&v(m.value,A.value)},t=s=>V(this,null,function*(){if(!s){T("Cannot approve: Missing leave application ID");return}const p=c.value.find(q=>q.name===s);if(!p){T("Leave application not found.");return}if(p.docstatus!==0){T("This leave application has already been processed.");return}console.log("Approving leave:",s);const i={name:s};console.log("Sending approve data:",i),yield w.submit(i)}),x=()=>{try{const s=localStorage.getItem("selected_student_group");if(s)try{const p=JSON.parse(s);return p.student_group||p.name||p}catch(p){return s}return null}catch(s){return console.error("Error getting student group:",s),null}},j=()=>{const s=x();if(!s){u.value="No student group found. Please select a student first.",c.value=[];return}const p={student_group:s};console.log("Fetching leave applications with params:",p),G.fetch(p)};return te(()=>{j()}),(s,p)=>(o(),a("div",Gn,[l(G).loading?(o(),a("div",zn,Fn)):u.value?(o(),a("div",On,[e("div",Hn,[Un,e("div",Jn,[Wn,e("p",Zn,r(u.value),1),e("button",{onClick:j,class:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 transition-colors"}," Try Again ")])])])):!c.value||c.value.length===0?(o(),a("div",qn,Qn)):(o(),a("div",Xn,[e("div",Kn,[e("div",ea,[ta,e("div",sa,[e("div",oa,[na,e("span",aa,r(l(E))+" pending",1)]),e("div",ra,[la,e("span",ia,r(l(D))+" approved",1)])])])]),e("div",ca,[(o(!0),a(X,null,K(c.value,(i,q)=>(o(),a("div",{key:i.name||`appeal-${q}`,class:"bg-white rounded-2xl shadow-sm border border-gray-200 hover:shadow-md transition-all duration-300"},[e("div",da,[e("div",ua,[e("div",ma,[e("div",ha,[e("span",_a,r(R(i.student_name||i.student||"Unknown")),1)]),e("div",ga,[e("div",xa,[e("div",null,[e("h3",pa,r(i.student_name||i.student||"Unknown Student"),1),e("p",va,r(i.student||"No Student ID"),1)]),e("div",fa,[e("span",{class:B(["px-3 py-1.5 rounded-full text-sm font-semibold",J(i.docstatus)])},r(U(i.docstatus)),3),e("button",{onClick:F=>C(i.name),class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},[(o(),a("svg",{class:B(["w-5 h-5 transition-transform duration-200",{"rotate-180":g.value===i.name}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},wa,2))],8,ba)])]),e("div",ka,[e("div",$a,[Ca,e("span",Sa,"From "+r(P(i.from_date)),1)]),e("div",ja,[Ma,e("span",Aa,"To "+r(P(i.to_date)),1)]),e("div",Na,[Ea,e("span",Da,r(i.total_leave_days||z(i.from_date,i.to_date))+" days",1)])]),e("p",La,r(i.reason||"No reason provided"),1),i.img_url?(o(),a("div",Ia,Ta)):N("",!0)])])])]),g.value===i.name?(o(),a("div",Pa,[e("div",Ga,[e("div",za,[e("div",Va,[Ra,e("div",Fa,[e("div",null,[Oa,e("p",Ha,r(i.student_name||"N/A"),1)]),e("div",null,[Ua,e("p",Ja,r(i.student||"N/A"),1)]),e("div",null,[Wa,e("p",Za,r(i.name||"N/A"),1)]),e("div",null,[qa,e("p",Ya,r(i.total_leave_days||z(i.from_date,i.to_date))+" days",1)]),e("div",null,[Qa,e("p",{class:B([J(i.docstatus),"px-3 py-1.5 rounded-full text-sm font-semibold inline-block mt-1"])},r(U(i.docstatus)),3)]),e("div",null,[Xa,e("p",Ka,r(i.mark_as_present?"Yes":"No"),1)])])]),e("div",er,[tr,e("p",sr,r(i.reason||"No reason provided"),1)]),i.docstatus===0?(o(),a("div",or,[nr,e("button",{onClick:ee(F=>t(i.name),["stop"]),disabled:l(w).loading,class:"w-full px-6 py-3 bg-green-600 text-white rounded-xl font-semibold hover:bg-green-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-3 shadow-sm hover:shadow-md"},ir,8,ar),cr])):(o(),a("div",dr,mr))]),i.img_url?(o(),a("div",hr,[e("div",_r,[gr,e("div",xr,[e("div",pr,[e("img",{src:i.img_url,alt:"Medical Certificate",onError:W,class:"w-full h-64 object-contain cursor-pointer transition-transform duration-200 hover:scale-105",onClick:ee(F=>n(i.img_url,i.student_name),["stop"])},null,40,vr)]),e("div",fr,[e("button",{onClick:ee(F=>n(i.img_url,i.student_name),["stop"]),class:"px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2"},kr,8,br),e("button",{onClick:ee(F=>v(i.img_url,i.student_name),["stop"]),class:"px-4 py-2.5 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2"},jr,8,$r)])])])])):i.docstatus===0?(o(),a("div",Mr,Nr)):(o(),a("div",Er,Lr))])])):N("",!0)]))),128))])])),l(w).loading?(o(),a("div",Ir,Tr)):N("",!0),y.value?(o(),a("div",Pr,[e("div",Gr,[e("div",zr,[Vr,e("div",Rr,[Fr,e("p",Or,r(f.value),1)]),e("button",{onClick:p[0]||(p[0]=i=>y.value=!1),class:"text-red-400 hover:text-red-600 transition-colors"},Ur)])])])):N("",!0),$.value?(o(),a("div",Jr,[e("div",Wr,[e("div",Zr,[qr,e("div",Yr,[Qr,e("p",Xr,r(f.value),1)]),e("button",{onClick:p[1]||(p[1]=i=>$.value=!1),class:"text-green-400 hover:text-green-600 transition-colors"},el)])])])):N("",!0),d.value?(o(),a("div",tl,[e("div",sl,[e("div",ol,[e("div",null,[nl,e("p",al,r(A.value),1)]),e("button",{onClick:p[2]||(p[2]=i=>d.value=!1),class:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors"},ll)]),e("div",il,[e("img",{src:m.value,alt:"Medical Certificate Full Size",class:"w-full h-auto max-h-full object-contain mx-auto rounded-lg",onError:Z},null,40,cl)]),e("div",{class:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-2xl"},[e("div",{class:"flex justify-center"},[e("button",{onClick:h,class:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center space-x-3"},ml)])])])])):N("",!0)]))}};var _l=oe(hl,[["__scopeId","data-v-19534540"]]);const I=_=>(ne("data-v-18c5ea37"),_=_(),ae(),_),gl={class:"flex min-h-screen bg-gray-50 flex-col md:flex-row"},xl={key:0,class:"fixed inset-0 bg-red-50 bg-opacity-90 flex items-center justify-center z-50 p-4"},pl={class:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full"},vl={class:"flex items-center mb-4"},fl={class:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3"},bl=I(()=>e("h3",{class:"text-lg font-semibold text-red-800"},"Something went wrong",-1)),yl={class:"text-gray-600 mb-4"},wl={key:1,class:"fixed inset-0 bg-white bg-opacity-80 flex items-center justify-center z-50"},kl=I(()=>e("div",{class:"text-center"},[e("div",{class:"spinner mb-4 mx-auto"}),e("p",{class:"text-gray-600"},"Loading your dashboard...")],-1)),$l=[kl],Cl={key:2,class:"flex flex-col md:flex-row w-full min-h-screen"},Sl={class:"md:hidden bg-white shadow-sm border-b border-gray-200 p-4 flex items-center justify-between"},jl={class:"flex items-center space-x-3"},Ml={class:"w-10 h-10 rounded-full bg-gray-200 overflow-hidden flex-shrink-0"},Al=["src"],Nl={key:1,class:"w-full h-full flex items-center justify-center bg-gray-100"},El={class:"min-w-0 flex-1"},Dl={class:"text-sm font-semibold text-gray-800 truncate"},Ll=I(()=>e("p",{class:"text-xs text-gray-500"},"Teacher",-1)),Il={class:"flex items-center justify-between md:hidden pb-4 border-b border-gray-200"},Bl=I(()=>e("h3",{class:"text-lg font-semibold text-gray-800"},"Menu",-1)),Tl={class:"flex-1 overflow-y-auto space-y-6 md:space-y-8"},Pl={class:"hidden md:flex items-start space-x-4 border-b pb-4"},Gl={class:"flex-shrink-0 w-16 h-16 rounded-full bg-gray-200 overflow-hidden"},zl=["src"],Vl={key:1,class:"w-full h-full flex items-center justify-center bg-gray-100"},Rl={class:"min-w-0 flex-1"},Fl={class:"text-xl font-semibold text-gray-800 break-words"},Ol=I(()=>e("p",{class:"text-sm text-gray-500 mt-1"},"Teacher",-1)),Hl={class:"space-y-2"},Ul=I(()=>e("label",{class:"block text-sm font-medium text-gray-700"},"Select Class:",-1)),Jl=["disabled"],Wl=I(()=>e("option",{value:"",disabled:""},"Select a class",-1)),Zl=["value"],ql={key:0,class:"text-sm text-yellow-600"},Yl={class:"space-y-3"},Ql=I(()=>e("h3",{class:"text-sm font-medium text-gray-700"},"Navigation",-1)),Xl={class:"space-y-2"},Kl=["disabled"],ei=I(()=>e("span",{class:"truncate"},"Dashboard",-1)),ti=["disabled"],si=I(()=>e("span",{class:"truncate"},"Take Attendance",-1)),oi=["disabled"],ni=I(()=>e("span",{class:"truncate"},"Student Record",-1)),ai=["disabled"],ri=I(()=>e("span",{class:"truncate"},"Create Notice",-1)),li=["disabled"],ii=I(()=>e("span",{class:"truncate"},"Previous Notices",-1)),ci=["disabled"],di=I(()=>e("span",{class:"truncate"},"Browse Leave Appeals",-1)),ui={class:"pt-4 border-t border-gray-200 flex-shrink-0"},mi=["disabled"],hi=I(()=>e("span",null,"Logout",-1)),_i={key:0},gi={class:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6"},xi={class:"text-xl md:text-2xl font-bold text-gray-800 mb-2"},pi=I(()=>e("p",{class:"text-gray-600 text-sm md:text-base"},"Manage your classroom activities and student records from here.",-1)),vi={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-4 md:mb-6"},fi={class:"bg-white rounded-lg shadow-sm p-4 md:p-6 border-l-4 border-blue-500"},bi={class:"flex items-center justify-between"},yi=I(()=>e("p",{class:"text-xs md:text-sm font-medium text-gray-600"},"Selected Class",-1)),wi={class:"text-lg md:text-2xl font-bold text-gray-800 truncate"},ki={class:"bg-white rounded-lg shadow-sm p-4 md:p-6 border-l-4 border-green-500"},$i={class:"flex items-center justify-between"},Ci=I(()=>e("p",{class:"text-xs md:text-sm font-medium text-gray-600"},"Available Classes",-1)),Si={class:"text-lg md:text-2xl font-bold text-gray-800"},ji={class:"bg-white rounded-lg shadow-sm p-4 md:p-6 border-l-4 border-purple-500"},Mi={class:"flex items-center justify-between"},Ai=I(()=>e("p",{class:"text-xs md:text-sm font-medium text-gray-600"},"Today's Date",-1)),Ni={class:"text-lg md:text-2xl font-bold text-gray-800"},Ei={class:"bg-white rounded-lg shadow-sm p-4 md:p-6"},Di=I(()=>e("h2",{class:"text-lg font-semibold text-gray-800 mb-4"},"Quick Actions",-1)),Li={class:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4"},Ii=["disabled"],Bi=I(()=>e("div",{class:"min-w-0 flex-1"},[e("h3",{class:"font-medium text-gray-800 text-sm md:text-base"},"Take Today's Attendance"),e("p",{class:"text-xs md:text-sm text-gray-600 truncate"},"Mark student attendance for today")],-1)),Ti=["disabled"],Pi=I(()=>e("div",{class:"min-w-0 flex-1"},[e("h3",{class:"font-medium text-gray-800 text-sm md:text-base"},"Create New Notice"),e("p",{class:"text-xs md:text-sm text-gray-600 truncate"},"Send announcement to students")],-1)),Gi={key:0,class:"text-sm text-yellow-600 mt-3"},zi={key:1,class:"h-full"},Vi={setup(_){const c=ce(),u=S({}),g=S([]),d=S(""),m=S(!1),A=S("dashboard"),y=S(null),$=S(!1),f={attendance:Ft,"attendance-record":Eo,"create-notice":Qo,"previous-notices":Pn,"leave-appeals":_l},E=()=>f[A.value]||null,D=C=>{M.loading||(A.value=C,window.innerWidth<768&&(m.value=!1))},T=we.user,G="teacher",w=()=>{var C;try{const n=localStorage.getItem("user_details"),v=localStorage.getItem("selected_student_group");if(n){const h=JSON.parse(n);u.value={name:h.name,image:h.base64profile},((C=h.student_groups)==null?void 0:C.length)&&(g.value=h.student_groups,d.value=v||h.student_groups[0],$.value=!0)}}catch(n){console.warn("Error loading from localStorage:",n)}},M=O({url:"school.al_ummah.api2.get_user_details",params:{role:G,username:T},auto:!1,onSuccess(C){var n;console.log("User details loaded:",C),y.value=null;try{C&&C.user_details?(u.value={name:C.user_details.name,image:C.user_details.base64profile},((n=C.user_details.student_groups)==null?void 0:n.length)&&(g.value=C.user_details.student_groups,d.value=C.user_details.student_groups[0],localStorage.setItem("selected_student_group",C.user_details.student_groups[0])),localStorage.setItem("user_details",JSON.stringify(C.user_details)),$.value=!0):y.value="No user data received from server"}catch(v){console.error("Error processing user data:",v),y.value="Error processing user data"}},onError(C){console.error("Error loading user details:",C),y.value="Failed to load user data. Please try again.",$.value||z()}}),P=Y(()=>new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),z=()=>{try{w(),(u.value.name||g.value.length)&&($.value=!0,y.value=null)}catch(C){console.error("Error loading from localStorage:",C),y.value="Unable to load user data. Please refresh the page."}},R=()=>V(this,null,function*(){d.value&&localStorage.setItem("selected_student_group",d.value)}),U=C=>{C.target.style.display="none";const n=C.target.nextElementSibling;n&&(n.style.display="flex")},J=()=>{y.value=null,$.value=!1,M.reload()},W=()=>V(this,null,function*(){try{localStorage.removeItem("user_details"),localStorage.removeItem("user"),localStorage.removeItem("selected_student_group"),yield we.logout.submit(),c.push({name:"Login"})}catch(C){console.error("Logout error:",C),localStorage.clear(),c.push({name:"Login"})}}),Z=()=>{window.innerWidth>=768&&(m.value=!1)};return te(()=>{w(),window.addEventListener("resize",Z),setTimeout(()=>{M.reload().catch(C=>{console.error("Failed to reload user details:",C),y.value="Network error. Please check your connection."})},100)}),Ee(()=>{window.removeEventListener("resize",Z)}),le(()=>M.loading,C=>{!C&&M.data&&console.log("Data loaded successfully")}),le(()=>A.value,()=>{window.innerWidth<768&&(m.value=!1)}),(C,n)=>(o(),a("div",gl,[y.value?(o(),a("div",xl,[e("div",pl,[e("div",vl,[e("div",fl,[k(l(Ie),{class:"w-6 h-6 text-red-600"})]),bl]),e("p",yl,r(y.value),1),e("div",{class:"flex space-x-3"},[e("button",{onClick:J,class:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors"}," Try Again "),e("button",{onClick:W,class:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-md hover:bg-gray-300 transition-colors"}," Logout ")])])])):l(M).loading&&!$.value?(o(),a("div",wl,$l)):(o(),a("div",Cl,[e("header",Sl,[e("div",jl,[e("div",Ml,[u.value.image?(o(),a("img",{key:0,src:`data:image/jpeg;base64,${u.value.image}`,alt:"Teacher",class:"object-cover w-full h-full",onError:U},null,40,Al)):(o(),a("div",Nl,[k(l(re),{class:"w-5 h-5 text-gray-400"})]))]),e("div",El,[e("h2",Dl,r(u.value.name||"Teacher"),1),Ll])]),e("button",{onClick:n[0]||(n[0]=v=>m.value=!m.value),class:"p-2 rounded-md text-gray-600 hover:bg-gray-100 transition-colors"},[k(l(Be),{class:"w-6 h-6"})])]),m.value?(o(),a("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:n[1]||(n[1]=v=>m.value=!1)})):N("",!0),e("aside",{class:B(["bg-white shadow-md p-4 md:p-6 space-y-6 md:space-y-8 z-50","fixed md:relative inset-y-0 left-0 transform transition-transform duration-300 ease-in-out","w-72 max-w-full",m.value?"translate-x-0":"-translate-x-full md:translate-x-0","flex flex-col h-screen md:h-auto"])},[e("div",Il,[Bl,e("button",{onClick:n[2]||(n[2]=v=>m.value=!1),class:"p-2 rounded-md text-gray-600 hover:bg-gray-100 transition-colors"},[k(l(me),{class:"w-5 h-5"})])]),e("div",Tl,[e("div",Pl,[e("div",Gl,[u.value.image?(o(),a("img",{key:0,src:`data:image/jpeg;base64,${u.value.image}`,alt:"Teacher",class:"object-cover w-full h-full",onError:U},null,40,zl)):(o(),a("div",Vl,[k(l(re),{class:"w-6 h-6 text-gray-400"})]))]),e("div",Rl,[e("h2",Fl,r(u.value.name||"Loading..."),1),Ol])]),e("div",Hl,[Ul,de(e("select",{"onUpdate:modelValue":n[3]||(n[3]=v=>d.value=v),onChange:R,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",disabled:l(M).loading||!g.value.length},[Wl,(o(!0),a(X,null,K(g.value,(v,h)=>(o(),a("option",{key:h,value:v},r(v),9,Zl))),128))],40,Jl),[[De,d.value]]),g.value.length?N("",!0):(o(),a("p",ql," No classes available "))]),e("div",Yl,[Ql,e("nav",Xl,[e("button",{onClick:n[4]||(n[4]=v=>D("dashboard")),class:B(["w-full text-left px-4 py-3 rounded font-medium flex items-center space-x-3 transition-colors text-sm md:text-base",A.value==="dashboard"?"bg-blue-100 border border-blue-200 text-blue-800":"bg-blue-50 text-blue-800 hover:bg-blue-100"]),disabled:l(M).loading},[k(l(Te),{class:"w-5 h-5 flex-shrink-0"}),ei],10,Kl),e("button",{onClick:n[5]||(n[5]=v=>D("attendance")),class:B(["w-full text-left px-4 py-3 rounded font-medium flex items-center space-x-3 transition-colors text-sm md:text-base",A.value==="attendance"?"bg-blue-100 border border-blue-200 text-blue-800":"bg-blue-50 text-blue-800 hover:bg-blue-100"]),disabled:!d.value||l(M).loading},[k(l(_e),{class:"w-5 h-5 flex-shrink-0"}),si],10,ti),e("button",{onClick:n[6]||(n[6]=v=>D("attendance-record")),class:B(["w-full text-left px-4 py-3 rounded font-medium flex items-center space-x-3 transition-colors text-sm md:text-base",A.value==="attendance-record"?"bg-green-100 border border-green-200 text-green-800":"bg-green-50 text-green-800 hover:bg-green-100"]),disabled:!d.value||l(M).loading},[k(l(he),{class:"w-5 h-5 flex-shrink-0"}),ni],10,oi),e("button",{onClick:n[7]||(n[7]=v=>D("create-notice")),class:B(["w-full text-left px-4 py-3 rounded font-medium flex items-center space-x-3 transition-colors text-sm md:text-base",A.value==="create-notice"?"bg-yellow-100 border border-yellow-200 text-yellow-800":"bg-yellow-50 text-yellow-800 hover:bg-yellow-100"]),disabled:!d.value||l(M).loading},[k(l(Se),{class:"w-5 h-5 flex-shrink-0"}),ri],10,ai),e("button",{onClick:n[8]||(n[8]=v=>D("previous-notices")),class:B(["w-full text-left px-4 py-3 rounded font-medium flex items-center space-x-3 transition-colors text-sm md:text-base",A.value==="previous-notices"?"bg-purple-100 border border-purple-200 text-purple-800":"bg-purple-50 text-purple-800 hover:bg-purple-100"]),disabled:!d.value||l(M).loading},[k(l(Pe),{class:"w-5 h-5 flex-shrink-0"}),ii],10,li),e("button",{onClick:n[9]||(n[9]=v=>D("leave-appeals")),class:B(["w-full text-left px-4 py-3 rounded font-medium flex items-center space-x-3 transition-colors text-sm md:text-base",A.value==="leave-appeals"?"bg-indigo-100 border border-indigo-200 text-indigo-800":"bg-indigo-50 text-indigo-800 hover:bg-indigo-100"]),disabled:!d.value||l(M).loading},[k(l(Ge),{class:"w-5 h-5 flex-shrink-0"}),di],10,ci)])])]),e("div",ui,[e("button",{class:"w-full px-4 py-3 rounded bg-red-100 text-red-600 font-medium hover:bg-red-200 flex items-center justify-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm md:text-base",onClick:W,disabled:l(M).loading},[k(l(ze),{class:"w-5 h-5 flex-shrink-0"}),hi],8,mi)])],2),e("main",{class:B(["flex-1 min-h-screen md:min-h-0 p-4 md:p-6 lg:p-8 bg-gray-50",{"opacity-50 pointer-events-none":l(M).loading}])},[A.value==="dashboard"?(o(),a("div",_i,[e("div",gi,[e("h1",xi,"Welcome, "+r(u.value.name||"Teacher")+"!",1),pi]),e("div",vi,[e("div",fi,[e("div",bi,[e("div",null,[yi,e("p",wi,r(d.value||"None"),1)]),k(l(he),{class:"w-6 h-6 md:w-8 md:h-8 text-blue-500 flex-shrink-0"})])]),e("div",ki,[e("div",$i,[e("div",null,[Ci,e("p",Si,r(g.value.length),1)]),k(l(_e),{class:"w-6 h-6 md:w-8 md:h-8 text-green-500 flex-shrink-0"})])]),e("div",ji,[e("div",Mi,[e("div",null,[Ai,e("p",Ni,r(l(P)),1)]),k(l(Ve),{class:"w-6 h-6 md:w-8 md:h-8 text-purple-500 flex-shrink-0"})])])]),e("div",Ei,[Di,e("div",Li,[e("button",{onClick:n[10]||(n[10]=v=>D("attendance")),disabled:!d.value,class:"flex items-center p-3 md:p-4 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed text-left"},[k(l(_e),{class:"w-5 h-5 md:w-6 md:h-6 text-blue-600 mr-3 flex-shrink-0"}),Bi],8,Ii),e("button",{onClick:n[11]||(n[11]=v=>D("create-notice")),disabled:!d.value,class:"flex items-center p-3 md:p-4 border border-gray-200 rounded-lg hover:border-yellow-500 hover:bg-yellow-50 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed text-left"},[k(l(Se),{class:"w-5 h-5 md:w-6 md:h-6 text-yellow-600 mr-3 flex-shrink-0"}),Pi],8,Ti)]),d.value?N("",!0):(o(),a("p",Gi," Please select a class to access these features "))])])):(o(),a("div",zi,[(o(),se(Le(E()),{"selected-group":d.value,onBackToDashboard:n[12]||(n[12]=v=>D("dashboard")),key:d.value+A.value},null,8,["selected-group"]))]))],2)]))]))}};var Ji=oe(Vi,[["__scopeId","data-v-18c5ea37"]]);export{Ji as default};
