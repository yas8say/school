import{_ as f,B as I,W as h,Y as D,e as g,Q as _,R as y,S as v,i as n,K as l,F as C,j as m,d as c,f as r,t as w,g as B,A as u}from"./vendor.f9104dde.js";const S={name:"InsertImage",props:["editor"],expose:["openDialog"],data(){return{addImageDialog:{url:"",file:null,show:!1}}},components:{Button:I,Dialog:h},methods:{openDialog(){this.addImageDialog.show=!0},onImageSelect(t){let e=t.target.files[0];!e||(this.addImageDialog.file=e,D(e).then(i=>{this.addImageDialog.url=i}))},addImage(t){this.editor.chain().focus().setImage({src:t}).run(),this.reset()},reset(){this.addImageDialog=this.$options.data().addImageDialog}}},b={class:"relative cursor-pointer rounded-lg bg-gray-100 py-1 focus-within:bg-gray-200 hover:bg-gray-200"},k={class:"absolute inset-0 select-none px-2 py-1 text-base"},x=["src"],V=u(" Insert Image "),A=u(" Cancel ");function N(t,e,i,j,a,o){const d=m("Button"),p=m("Dialog");return c(),g(C,null,[_(t.$slots,"default",y(v({onClick:o.openDialog}))),n(p,{options:{title:"Add Image"},modelValue:a.addImageDialog.show,"onUpdate:modelValue":e[2]||(e[2]=s=>a.addImageDialog.show=s),onAfterLeave:o.reset},{"body-content":l(()=>[r("label",b,[r("input",{type:"file",class:"w-full opacity-0",onChange:e[0]||(e[0]=(...s)=>o.onImageSelect&&o.onImageSelect(...s)),accept:"image/*"},null,32),r("span",k,w(a.addImageDialog.file?"Select another image":"Select an image"),1)]),a.addImageDialog.url?(c(),g("img",{key:0,src:a.addImageDialog.url,class:"mt-2 w-full rounded-lg"},null,8,x)):B("",!0)]),actions:l(()=>[n(d,{appearance:"primary",onClick:e[1]||(e[1]=s=>o.addImage(a.addImageDialog.url))},{default:l(()=>[V]),_:1}),n(d,{onClick:o.reset},{default:l(()=>[A]),_:1},8,["onClick"])]),_:1},8,["modelValue","onAfterLeave"])],64)}var L=f(S,[["render",N]]);export{L as default};
