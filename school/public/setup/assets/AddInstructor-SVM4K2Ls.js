import{_ as M,q as k,r as v,j as h,k as R,c as i,b as a,f as n,v as d,t as u,l as c,g as C,F as V,h as E,i as A,n as T,o as t}from"./index-YpdTZEFl.js";/* empty css             */const j={setup(){const l=k({firstName:"",middleName:"",lastName:"",gender:"",mobile:"",email:"",dob:"",doj:"",panNumber:"",bankName:"",accountNumber:"",ifscCode:"",designation:"",address:"",className:null,divisionName:null,attendanceDeviceId:""}),e=v([]),f=v([]),s=v(!1),N=v(null),m=k({}),o=h({url:"school.al_ummah.api3.get_classes",params:{values:{}},onSuccess:r=>{e.value=Array.isArray(r)?r:[],console.log("Classes loaded:",e.value)},onError:r=>{console.error("Error fetching classes:",r),e.value=[]}}),D=h({url:"school.al_ummah.api3.get_divisions1",params:{values:{classId:l.className}},onSuccess:r=>{f.value=Array.isArray(r)?r:[],console.log("Divisions loaded:",f.value)},onError:r=>{console.error("Error fetching divisions:",r),f.value=[]}}),p=h({url:"school.al_ummah.api3.enroll_single_instructor",params:{teacher:{"First Name":l.firstName,"Middle Name":l.middleName,"Last Name":l.lastName,Gender:l.gender,Mobile:l.mobile,Email:l.email,"Date of Birth":l.dob,"Date of Joining":l.doj,"PAN Number":l.panNumber,"Bank Name":l.bankName,"Bank A/C No.":l.accountNumber,"IFSC Code":l.ifscCode,Designation:l.designation,"Current Address":l.address,Class:l.className||"",Division:l.divisionName||"","Attendance Device ID (Biometric/RF tag ID)":l.attendanceDeviceId}},onSuccess:r=>{s.value=!1,r&&r.message?b(r.message,"success"):b("Teacher enrollment completed","success")},onError:r=>{s.value=!1,r.messages&&r.messages.length>0?b(r.messages[0],"error"):r.message?b(r.message,"error"):b("An error occurred","error")}});R(()=>{o.reload()});function I(){l.divisionName=null,m.divisionName="",l.className?(D.update({params:{values:{classId:l.className}}}),D.reload()):f.value=[]}function y(){Object.assign(m,{});let r=!0;return l.firstName.trim()||(m.firstName="First name is required",r=!1),l.lastName.trim()||(m.lastName="Last name is required",r=!1),l.gender||(m.gender="Gender is required",r=!1),l.dob||(m.dob="Date of birth is required",r=!1),l.email.trim()?F(l.email)||(m.email="Please enter a valid email",r=!1):(m.email="Email is required",r=!1),l.mobile.trim()?q(l.mobile)||(m.mobile="Please enter a valid mobile number",r=!1):(m.mobile="Mobile number is required",r=!1),r}function F(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}function q(r){return/^[0-9]{10,15}$/.test(r)}function S(){y()&&U()}function U(){s.value=!0,p.update({params:{teacher:{"First Name":l.firstName,"Middle Name":l.middleName,"Last Name":l.lastName,Gender:l.gender,Mobile:l.mobile,Email:l.email,"Date of Birth":l.dob,"Date of Joining":l.doj,"PAN Number":l.panNumber,"Bank Name":l.bankName,"Bank A/C No.":l.accountNumber,"IFSC Code":l.ifscCode,Designation:l.designation,"Current Address":l.address,Class:l.className||"",Division:l.divisionName||"","Attendance Device ID (Biometric/RF tag ID)":l.attendanceDeviceId}}}),p.submit()}function B(){Object.assign(l,{firstName:"",middleName:"",lastName:"",gender:"",mobile:"",email:"",dob:"",doj:"",panNumber:"",bankName:"",accountNumber:"",ifscCode:"",designation:"",address:"",className:null,divisionName:null,attendanceDeviceId:""}),f.value=[],Object.assign(m,{}),b(null)}function b(r,g="info"){N.value=r?{text:r,type:g}:null,r&&g!=="error"&&setTimeout(()=>b(null),5e3)}return{teacherData:l,classes:e,divisions:f,isLoading:s,message:N,errors:m,classesResource:o,divisionsResource:D,enrollTeacherResource:p,onClassChange:I,validateAndSubmit:S,resetForm:B}}},P={class:"enrollment-container"},L={class:"form-card"},_={class:"form-section"},x={class:"form-grid"},G={class:"form-group required"},H={key:0,class:"error-message"},O={class:"form-group"},w={class:"form-group required"},J={key:0,class:"error-message"},z={class:"form-group required"},Z={key:0,class:"error-message"},K={class:"form-group required"},Q={key:0,class:"error-message"},W={class:"form-section"},X={class:"form-grid"},Y={class:"form-group required"},$={key:0,class:"error-message"},ee={class:"form-group required"},ae={key:0,class:"error-message"},se={class:"form-group"},oe={class:"form-section"},le={class:"form-grid"},re={class:"form-group"},ne=["disabled"],ie=["value"],te={key:0,class:"error-message"},de={class:"form-group"},me=["disabled"],ue=["value"],ce={key:0,class:"error-message"},fe={class:"form-group"},be={class:"form-group"},ge={class:"form-group"},ve={class:"form-section"},Ne={class:"form-grid"},De={class:"form-group"},pe={class:"form-group"},he={class:"form-group"},Ce={class:"form-group"},ke={class:"form-actions"},Ve=["disabled"],Ee={key:0,class:"button-content"},Ae={key:1,class:"button-content"},Ie=["disabled"];function ye(l,e,f,s,N,m){return t(),i("div",P,[e[47]||(e[47]=a("div",{class:"header"},[a("h1",{class:"title"},"Teacher Enrollment"),a("p",{class:"subtitle"},"Add new teacher to the system")],-1)),a("div",L,[e[46]||(e[46]=a("h2",{class:"form-title"},"Teacher Information",-1)),a("div",_,[e[26]||(e[26]=a("h3",{class:"section-title"},"Personal Details",-1)),a("div",x,[a("div",G,[e[20]||(e[20]=a("label",null,"First Name",-1)),n(a("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.teacherData.firstName=o),class:"input",placeholder:"Enter first name",required:""},null,512),[[d,s.teacherData.firstName]]),s.errors.firstName?(t(),i("span",H,u(s.errors.firstName),1)):c("",!0)]),a("div",O,[e[21]||(e[21]=a("label",null,"Middle Name",-1)),n(a("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.teacherData.middleName=o),class:"input",placeholder:"Enter middle name"},null,512),[[d,s.teacherData.middleName]])]),a("div",w,[e[22]||(e[22]=a("label",null,"Last Name",-1)),n(a("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.teacherData.lastName=o),class:"input",placeholder:"Enter last name",required:""},null,512),[[d,s.teacherData.lastName]]),s.errors.lastName?(t(),i("span",J,u(s.errors.lastName),1)):c("",!0)]),a("div",z,[e[24]||(e[24]=a("label",null,"Gender",-1)),n(a("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.teacherData.gender=o),class:"picker",required:""},e[23]||(e[23]=[a("option",{value:""},"Select Gender",-1),a("option",{value:"Male"},"Male",-1),a("option",{value:"Female"},"Female",-1),a("option",{value:"Other"},"Other",-1)]),512),[[C,s.teacherData.gender]]),s.errors.gender?(t(),i("span",Z,u(s.errors.gender),1)):c("",!0)]),a("div",K,[e[25]||(e[25]=a("label",null,"Date of Birth",-1)),n(a("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.teacherData.dob=o),type:"date",class:"input",required:""},null,512),[[d,s.teacherData.dob]]),s.errors.dob?(t(),i("span",Q,u(s.errors.dob),1)):c("",!0)])])]),a("div",W,[e[30]||(e[30]=a("h3",{class:"section-title"},"Contact Information",-1)),a("div",X,[a("div",Y,[e[27]||(e[27]=a("label",null,"Email",-1)),n(a("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>s.teacherData.email=o),type:"email",class:"input",placeholder:"Enter email",required:""},null,512),[[d,s.teacherData.email]]),s.errors.email?(t(),i("span",$,u(s.errors.email),1)):c("",!0)]),a("div",ee,[e[28]||(e[28]=a("label",null,"Mobile",-1)),n(a("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>s.teacherData.mobile=o),class:"input",placeholder:"Enter mobile number",required:""},null,512),[[d,s.teacherData.mobile]]),s.errors.mobile?(t(),i("span",ae,u(s.errors.mobile),1)):c("",!0)]),a("div",se,[e[29]||(e[29]=a("label",null,"Address",-1)),n(a("textarea",{"onUpdate:modelValue":e[7]||(e[7]=o=>s.teacherData.address=o),class:"input textarea",placeholder:"Enter address"},null,512),[[d,s.teacherData.address]])])])]),a("div",oe,[e[38]||(e[38]=a("h3",{class:"section-title"},"School Information",-1)),a("div",le,[a("div",re,[e[32]||(e[32]=a("label",null,"Class / Program",-1)),n(a("select",{"onUpdate:modelValue":e[8]||(e[8]=o=>s.teacherData.className=o),class:"picker",onChange:e[9]||(e[9]=(...o)=>s.onClassChange&&s.onClassChange(...o)),disabled:s.classesResource.loading},[e[31]||(e[31]=a("option",{value:null},"Select Class / Program",-1)),(t(!0),i(V,null,E(s.classes,o=>(t(),i("option",{key:o.name,value:o.name},u(o.name),9,ie))),128))],40,ne),[[C,s.teacherData.className]]),s.errors.className?(t(),i("span",te,u(s.errors.className),1)):c("",!0)]),a("div",de,[e[34]||(e[34]=a("label",null,"Division / Student Group",-1)),n(a("select",{"onUpdate:modelValue":e[10]||(e[10]=o=>s.teacherData.divisionName=o),class:"picker",disabled:!s.teacherData.className||s.divisionsResource.loading},[e[33]||(e[33]=a("option",{value:null},"Select Division / Student Group",-1)),(t(!0),i(V,null,E(s.divisions,o=>(t(),i("option",{key:o.name,value:o.name},u(o.name),9,ue))),128))],8,me),[[C,s.teacherData.divisionName]]),s.errors.divisionName?(t(),i("span",ce,u(s.errors.divisionName),1)):c("",!0)]),a("div",fe,[e[35]||(e[35]=a("label",null,"Designation",-1)),n(a("input",{"onUpdate:modelValue":e[11]||(e[11]=o=>s.teacherData.designation=o),class:"input",placeholder:"Enter designation"},null,512),[[d,s.teacherData.designation]])]),a("div",be,[e[36]||(e[36]=a("label",null,"Date of Joining",-1)),n(a("input",{"onUpdate:modelValue":e[12]||(e[12]=o=>s.teacherData.doj=o),type:"date",class:"input"},null,512),[[d,s.teacherData.doj]])]),a("div",ge,[e[37]||(e[37]=a("label",null,"Attendance Device ID (Biometric/RF tag ID)",-1)),n(a("input",{"onUpdate:modelValue":e[13]||(e[13]=o=>s.teacherData.attendanceDeviceId=o),class:"input",placeholder:"Enter attendance device ID"},null,512),[[d,s.teacherData.attendanceDeviceId]])])])]),a("div",ve,[e[43]||(e[43]=a("h3",{class:"section-title"},"Bank Details (Optional)",-1)),a("div",Ne,[a("div",De,[e[39]||(e[39]=a("label",null,"Bank Name",-1)),n(a("input",{"onUpdate:modelValue":e[14]||(e[14]=o=>s.teacherData.bankName=o),class:"input",placeholder:"Enter bank name"},null,512),[[d,s.teacherData.bankName]])]),a("div",pe,[e[40]||(e[40]=a("label",null,"Account Number",-1)),n(a("input",{"onUpdate:modelValue":e[15]||(e[15]=o=>s.teacherData.accountNumber=o),class:"input",placeholder:"Enter account number"},null,512),[[d,s.teacherData.accountNumber]])]),a("div",he,[e[41]||(e[41]=a("label",null,"IFSC Code",-1)),n(a("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>s.teacherData.ifscCode=o),class:"input",placeholder:"Enter IFSC code"},null,512),[[d,s.teacherData.ifscCode]])]),a("div",Ce,[e[42]||(e[42]=a("label",null,"PAN Number",-1)),n(a("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>s.teacherData.panNumber=o),class:"input",placeholder:"Enter PAN number"},null,512),[[d,s.teacherData.panNumber]])])])]),a("div",ke,[a("button",{class:"enroll-button",onClick:e[18]||(e[18]=(...o)=>s.validateAndSubmit&&s.validateAndSubmit(...o)),disabled:s.isLoading||s.enrollTeacherResource.loading},[s.isLoading||s.enrollTeacherResource.loading?(t(),i("span",Ee,e[44]||(e[44]=[a("span",{class:"spinner"},null,-1),A(" Processing... ")]))):(t(),i("span",Ae,e[45]||(e[45]=[a("svg",{class:"icon",viewBox:"0 0 24 24"},[a("path",{fill:"currentColor",d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"})],-1),A(" Enroll Teacher ")])))],8,Ve),a("button",{class:"reset-button",onClick:e[19]||(e[19]=(...o)=>s.resetForm&&s.resetForm(...o)),disabled:s.isLoading||s.enrollTeacherResource.loading}," Reset Form ",8,Ie)]),s.message?(t(),i("div",{key:0,class:T(["message",s.message.type])},u(s.message.text),3)):c("",!0)])])}const Se=M(j,[["render",ye]]);export{Se as default};
